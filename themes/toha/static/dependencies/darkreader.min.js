(function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):(e="undefined"!=typeof globalThis?globalThis:e||self,t(e.DarkReader={}))})(this,function(e){"use strict";function t(e,t,n,r){function o(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function c(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?n(e.value):o(e.value).then(i,c)}u((r=r.apply(e,t||[])).next())})}function n(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,a&&(i=2&n[0]?a.return:n[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,n[1])).done)return i;switch(a=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,a=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(i=u.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){u.label=n[1];break}if(6===n[0]&&u.label<i[1]){u.label=i[1],i=n;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(n);break}i[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],a=0}finally{o=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,a,i,c,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return c={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function r(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function o(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}function a(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function i(e,r,o){return t(this,void 0,void 0,function(){var t;return n(this,function(n){switch(n.label){case 0:return[4,fetch(e,{cache:"force-cache",credentials:"omit",referrer:o})];case 1:if(t=n.sent(),Yn&&"text/css"===r&&e.startsWith("moz-extension://")&&e.endsWith(".css"))return[2,t];if(r&&!t.headers.get("Content-Type").startsWith(r))throw new Error("Mime type mismatch when loading ".concat(e));if(!t.ok)throw new Error("Unable to load ".concat(e," ").concat(t.status," ").concat(t.statusText));return[2,t]}})})}function c(e,r){return t(this,void 0,void 0,function(){var t;return n(this,function(n){switch(n.label){case 0:return[4,i(e,r)];case 1:return t=n.sent(),[4,u(t)];case 2:return[2,n.sent()]}})})}function u(e){return t(this,void 0,void 0,function(){var t,r;return n(this,function(n){switch(n.label){case 0:return[4,e.blob()];case 1:return t=n.sent(),[4,new Promise(function(e){var n=new FileReader;n.onloadend=function(){return e(n.result)},n.readAsDataURL(t)})];case 2:return r=n.sent(),[2,r]}})})}function s(e){cr=e||ir}function l(e){return t(this,void 0,void 0,function(){return n(this,function(t){switch(t.label){case 0:return[4,cr(e)];case 1:return[2,t.sent()]}})})}function d(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t(this,void 0,void 0,function(){var t,r,o,a,i,c,s;return n(this,function(n){switch(n.label){case 0:if(!e[0]||e[0].type!==zn.CS_FETCH)return[3,8];t=e[0].id,n.label=1;case 1:return n.trys.push([1,7,,8]),r=e[0].data,o=r.url,a=r.responseType,[4,l(o)];case 2:return i=n.sent(),"data-url"!==a?[3,4]:[4,u(i)];case 3:return c=n.sent(),[3,6];case 4:return[4,i.text()];case 5:c=n.sent(),n.label=6;case 6:return ur.forEach(function(e){return e({type:zn.BG_FETCH_RESPONSE,data:c,error:null,id:t})}),[3,8];case 7:return s=n.sent(),console.error(s),ur.forEach(function(e){return e({type:zn.BG_FETCH_RESPONSE,data:null,error:s,id:t})}),[3,8];case 8:return[2]}})})}function f(e){ur.add(e)}function h(e){return null!=e.length}function p(e,t){var n,o;if(h(e))for(var a=0,i=e.length;a<i;a++)t(e[a]);else try{for(var c=r(e),u=c.next();!u.done;u=c.next()){var s=u.value;t(s)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}}function m(e,t){p(t,function(t){return e.push(t)})}function v(e){for(var t=[],n=0,r=e.length;n<r;n++)t.push(e[n]);return t}function g(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]}function b(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]}function y(e){var t,n=!1,r=null,i=function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];t=i,r?n=!0:(e.apply(void 0,a([],o(t),!1)),r=requestAnimationFrame(function(){r=null,n&&(e.apply(void 0,a([],o(t),!1)),n=!1)}))},c=function(){cancelAnimationFrame(r),n=!1,r=null};return Object.assign(i,{cancel:c})}function S(){function e(){for(var e;e=r.shift();)e();o=null}function t(t){r.push(t),o||(o=requestAnimationFrame(e))}function n(){r.splice(0),cancelAnimationFrame(o),o=null}var r=[],o=null;return{add:t,cancel:n}}function _(e){var t=0;return e.seconds&&(t+=1e3*e.seconds),e.minutes&&(t+=60*e.minutes*1e3),e.hours&&(t+=60*e.hours*60*1e3),e.days&&(t+=24*e.days*60*60*1e3),t}function k(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function w(e,t,n){void 0===n&&(n=Function.prototype);var r=10,o=_({seconds:2}),a=_({seconds:10}),i=e.previousSibling,c=e.parentNode;if(!c)throw new Error("Unable to watch for node position: parent element not found");if("prev-sibling"===t&&!i)throw new Error("Unable to watch for node position: there is no previous sibling");var u=0,s=null,l=null,d=y(function(){if(!l){u++;var h=Date.now();if(null==s)s=h;else if(u>=r){if(h-s<a)return b("Node position watcher paused: retry in ".concat(o,"ms"),e,i),void(l=setTimeout(function(){s=null,u=0,l=null,d()},o));s=h,u=1}if("parent"===t&&i&&i.parentNode!==c)return b("Unable to restore node position: sibling parent changed",e,i,c),void p();if("prev-sibling"===t){if(null==i.parentNode)return b("Unable to restore node position: sibling was removed",e,i,c),void p();i.parentNode!==c&&(b("Style was moved to another parent",e,i,c),v(i.parentNode))}b("Restoring node position",e,i,c),c.insertBefore(e,i?i.nextSibling:c.firstChild),f.takeRecords(),n&&n()}}),f=new MutationObserver(function(){("parent"===t&&e.parentNode!==c||"prev-sibling"===t&&e.previousSibling!==i)&&d()}),h=function(){f.observe(c,{childList:!0})},p=function(){clearTimeout(l),f.disconnect(),d.cancel()},m=function(){f.takeRecords()},v=function(e){c=e,p(),h()};return h(),{run:h,stop:p,skip:m}}function E(e,t){if(null!=e)for(var n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:function(e){return null==e.shadowRoot?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT}}),r=e.shadowRoot?n.currentNode:n.nextNode();null!=r;r=n.nextNode())r.classList.contains("surfingkeys_hints_host")||(t(r),E(r.shadowRoot,t))}function C(e){pr=e}function x(e){pr()?e():mr.add(e)}function T(e){mr.delete(e)}function R(){return"complete"===document.readyState}function V(e){R()?e():vr.add(e)}function M(){vr.clear()}function A(e){if(e.length>Sr)return!0;for(var t=0,n=0;n<e.length;n++)if(t+=e[n].addedNodes.length,t>Sr)return!0;return!1}function L(e){var t=new Set,n=new Set,r=new Set;e.forEach(function(e){p(e.addedNodes,function(e){e instanceof Element&&e.isConnected&&t.add(e)}),p(e.removedNodes,function(e){e instanceof Element&&(e.isConnected?(r.add(e),t.delete(e)):n.add(e))})});var o=[],a=[];return t.forEach(function(e){t.has(e.parentElement)&&o.push(e)}),n.forEach(function(e){n.has(e.parentElement)&&a.push(e)}),o.forEach(function(e){return t.delete(e)}),a.forEach(function(e){return n.delete(e)}),{additions:t,moves:r,deletions:n}}function O(e,t){var n,r,o;if(_r.has(e))n=_r.get(e),r=kr.get(n);else{var a=!1,i=!1;n=new MutationObserver(function(t){if(A(t))!a||pr()?r.forEach(function(t){var n=t.onHugeMutations;return n(e)}):i||(o=function(){return r.forEach(function(t){var n=t.onHugeMutations;return n(e)})},x(o),i=!0),a=!0;else{var n=L(t);r.forEach(function(e){var t=e.onMinorMutations;return t(n)})}}),n.observe(e,{childList:!0,subtree:!0}),_r.set(e,n),r=new Set,kr.set(n,r)}return r.add(t),{disconnect:function(){r.delete(t),o&&T(o),0===r.size&&(n.disconnect(),kr.delete(n),_r.delete(e))}}}function P(e){return br||(br=document.createElement("a")),br.href=e,br.href}function D(e,t){void 0===t&&(t=null);var n="".concat(e).concat(t?";".concat(t):"");if(wr.has(n))return wr.get(n);if(t){var r=new URL(e,P(t));return wr.set(n,r),r}var o=new URL(P(e));return wr.set(e,o),o}function I(e,t){if(t.match(/^data\\?\:/))return t;if(/^\/\//.test(t))return"".concat(location.protocol).concat(t);var n=D(e),r=D(t,n.href);return r.href}function F(e){if(e.startsWith("data:"))return!0;var t=D(e);return t.protocol===location.protocol&&(t.hostname===location.hostname&&(t.port===location.port&&t.pathname===location.pathname))}function N(e,t,n){p(e,function(e){if(e.selectorText)t(e);else if(e.href)try{N(e.styleSheet.cssRules,t,n)}catch(e){g("Found a non-loaded link."),n&&n()}else if(e.media){var r=Array.from(e.media),o=r.some(function(e){return e.startsWith("screen")||e.startsWith("all")||e.startsWith("(")}),a=r.some(function(e){return e.startsWith("print")||e.startsWith("speech")});!o&&a||N(e.cssRules,t,n)}else e.conditionText?CSS.supports(e.conditionText)&&N(e.cssRules,t,n):b("CSSRule type not supported",e)})}function j(e,t){p(e,function(n){var r=e.getPropertyValue(n).trim();r&&t(n,r)});var n=e.cssText;n.includes("var(")&&(Zn?Cr.forEach(function(e){var r=o(e,2),a=r[0],i=r[1],c=n.match(i);if(c&&c[1]){var u=c[1].trim();t(a,u)}}):Er.forEach(function(n){var r=e.getPropertyValue(n);r&&r.includes("var(")&&t(n,r)}))}function B(e){return e.trim().replace(/^url\((.*)\)$/,"$1").trim().replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")}function U(e){var t=D(e);return"".concat(t.origin).concat(t.pathname.replace(/\?.*$/,"").replace(/(\/)([^\/]+)$/i,"$1"))}function q(e,t){return e.replace(xr,function(e){var n=B(e);try{return'url("'.concat(I(t,n),'")')}catch(t){return b("Not able to replace relative URL with Absolute URL, skipping"),e}})}function W(e){return e.replace(Rr,"")}function G(e){return e.replace(Vr,"")}function H(e){for(var t,n=[],r=[],i=0,c=e.length;i<c;i++){var u=e[i];if(u&&" "!==u){if(Ar.has(u)){for(var s=Ar.get(u);r.length;){var l=Ar.get(r[0]);if(!l)break;if(!s.lessOrEqualThan(l))break;n.push(r.shift())}r.unshift(u)}else!t||Ar.has(t)?n.push(u):n[n.length-1]+=u;t=u}}n.push.apply(n,a([],o(r),!1));var d=[];for(i=0,c=n.length;i<c;i++){s=Ar.get(n[i]);if(s){var f=d.splice(0,2);d.push(s.exec(f[1],f[0]))}else d.unshift(parseFloat(n[i]))}return d[0]}function z(e,t,n){void 0===n&&(n=0);for(var r,o=[];r=e.exec(t);)o.push(r[n]);return o}function $(e){function t(e){return e.replace(/^\s+/,"")}function n(e){return 0===e?"":" ".repeat(4*e)}if(e.length<5e4)for(var r=/[^{}]+{\s*}/;r.test(e);)e=e.replace(r,"");for(var o=e.replace(/\s{2,}/g," ").replace(/\{/g,"{\n").replace(/\}/g,"\n}\n").replace(/\;(?![^\(|\"]*(\)|\"))/g,";\n").replace(/\,(?![^\(|\"]*(\)|\"))/g,",\n").replace(/\n\s*\n/g,"\n").split("\n"),a=0,i=[],c=0,u=o.length;c<u;c++){var s="".concat(o[c],"\n");s.includes("{")?i.push(n(a++)+t(s)):s.includes("}")?i.push(n(--a)+t(s)):i.push(n(a)+t(s))}return i.join("").trim()}function Q(e,t){void 0===t&&(t=0);for(var n=e.length,r=0,o=-1,a=t;a<n;a++)if(0===r){var i=e.indexOf("(",a);if(i<0)break;o=i,r++,a=i}else{var c=e.indexOf(")",a);if(c<0)break;i=e.indexOf("(",a);if(i<0||c<i){if(r--,0===r)return{start:o,end:c+1};a=c}else r++,a=i}return null}function K(e){var t=e.h,n=e.s,r=e.l,a=e.a,i=void 0===a?1:a;if(0===n){var c=o([r,r,r].map(function(e){return Math.round(255*e)}),3),u=c[0],s=c[1],l=c[2];return{r:u,g:l,b:s,a:i}}var d=(1-Math.abs(2*r-1))*n,f=d*(1-Math.abs(t/60%2-1)),h=r-d/2,p=o((t<60?[d,f,0]:t<120?[f,d,0]:t<180?[0,d,f]:t<240?[0,f,d]:t<300?[f,0,d]:[d,0,f]).map(function(e){return Math.round(255*(e+h))}),3),m=p[0],v=p[1],g=p[2];return{r:m,g:v,b:g,a:i}}function X(e){var t=e.r,n=e.g,r=e.b,o=e.a,a=void 0===o?1:o,i=t/255,c=n/255,u=r/255,s=Math.max(i,c,u),l=Math.min(i,c,u),d=s-l,f=(s+l)/2;if(0===d)return{h:0,s:0,l:f,a:a};var h=60*(s===i?(c-u)/d%6:s===c?(u-i)/d+2:(i-c)/d+4);h<0&&(h+=360);var p=d/(1-Math.abs(2*f-1));return{h:h,s:p,l:f,a:a}}function Y(e,t){void 0===t&&(t=0);var n=e.toFixed(t);if(0===t)return n;var r=n.indexOf(".");if(r>=0){var o=n.match(/0+$/);if(o)return o.index===r+1?n.substring(0,r):n.substring(0,o.index)}return n}function Z(e){var t=e.r,n=e.g,r=e.b,o=e.a;return null!=o&&o<1?"rgba(".concat(Y(t),", ").concat(Y(n),", ").concat(Y(r),", ").concat(Y(o,2),")"):"rgb(".concat(Y(t),", ").concat(Y(n),", ").concat(Y(r),")")}function J(e){var t=e.r,n=e.g,r=e.b,o=e.a;return"#".concat((null!=o&&o<1?[t,n,r,Math.round(255*o)]:[t,n,r]).map(function(e){return"".concat(e<16?"0":"").concat(e.toString(16))}).join(""))}function ee(e){var t=e.h,n=e.s,r=e.l,o=e.a;return null!=o&&o<1?"hsla(".concat(Y(t),", ").concat(Y(100*n),"%, ").concat(Y(100*r),"%, ").concat(Y(o,2),")"):"hsl(".concat(Y(t),", ").concat(Y(100*n),"%, ").concat(Y(100*r),"%)")}function te(e){var t=e.trim().toLowerCase();if(t.match(Lr))return oe(t);if(t.match(Or))return ae(t);if(t.match(Pr))return ie(t);if(jr.has(t))return ce(t);if(Br.has(t))return ue(t);if("transparent"===e)return{r:0,g:0,b:0,a:0};throw new Error("Unable to parse ".concat(e))}function ne(e){var t=[],n=0,r=!1,o=e.indexOf("(");e=e.substring(o+1,e.length-1);for(var a=0;a<e.length;a++){var i=e[a];i>="0"&&i<="9"||"."===i||"+"===i||"-"===i?r=!0:!r||" "!==i&&","!==i?r||(n=a+1):(t.push(e.substring(n,a)),r=!1,n=a+1)}return r&&t.push(e.substring(n,e.length)),t}function re(e,t,n){var r=ne(e),a=Object.entries(n),i=r.map(function(e){return e.trim()}).map(function(e,n){var r,i=a.find(function(t){var n=o(t,1),r=n[0];return e.endsWith(r)});return r=i?parseFloat(e.substring(0,e.length-i[0].length))/i[1]*t[n]:parseFloat(e),t[n]>1?Math.round(r):r});return i}function oe(e){var t=o(re(e,Dr,Ir),4),n=t[0],r=t[1],a=t[2],i=t[3],c=void 0===i?1:i;return{r:n,g:r,b:a,a:c}}function ae(e){var t=o(re(e,Fr,Nr),4),n=t[0],r=t[1],a=t[2],i=t[3],c=void 0===i?1:i;return K({h:n,s:r,l:a,a:c})}function ie(e){var t=e.substring(1);switch(t.length){case 3:case 4:var n=o([0,1,2].map(function(e){return parseInt("".concat(t[e]).concat(t[e]),16)}),3),r=n[0],a=n[1],i=n[2],c=3===t.length?1:parseInt("".concat(t[3]).concat(t[3]),16)/255;return{r:r,g:a,b:i,a:c};case 6:case 8:var u=o([0,2,4].map(function(e){return parseInt(t.substring(e,e+2),16)}),3);r=u[0],a=u[1],i=u[2],c=6===t.length?1:parseInt(t.substring(6,8),16)/255;return{r:r,g:a,b:i,a:c}}throw new Error("Unable to parse ".concat(e))}function ce(e){var t=jr.get(e);return{r:t>>16&255,g:t>>8&255,b:t>>0&255,a:1}}function ue(e){var t=Br.get(e);return{r:t>>16&255,g:t>>8&255,b:t>>0&255,a:1}}function se(e){for(var t=0,n=function(t,n,r){e=e.substring(0,t)+r+e.substring(n)};-1!==(t=e.indexOf("calc("));){var r=Q(e,t);if(!r)break;var o=e.slice(r.start+1,r.end-1),a=o.includes("%");o=o.split("%").join("");var i=Math.round(H(o));n(r.start-4,r.end,i+(a?"%":""))}return e}function le(e,t,n){return(.2126*e+.7152*t+.0722*n)/255}function de(e,t,n,r,o){return(e-t)*(o-r)/(n-t)+r}function fe(e,t,n){return Math.min(n,Math.max(t,e))}function he(e,t){for(var n=[],r=0,o=e.length;r<o;r++){n[r]=[];for(var a=0,i=t[0].length;a<i;a++){for(var c=0,u=0,s=e[0].length;u<s;u++)c+=e[r][u]*t[u][a];n[r][a]=c}}return n}function pe(e){var t=Ur.identity();return 0!==e.sepia&&(t=he(t,Ur.sepia(e.sepia/100))),0!==e.grayscale&&(t=he(t,Ur.grayscale(e.grayscale/100))),100!==e.contrast&&(t=he(t,Ur.contrast(e.contrast/100))),100!==e.brightness&&(t=he(t,Ur.brightness(e.brightness/100))),1===e.mode&&(t=he(t,Ur.invertNHue())),t}function me(e,t){var n=o(e,3),r=n[0],a=n[1],i=n[2],c=[[r/255],[a/255],[i/255],[1],[1]],u=he(t,c);return[0,1,2].map(function(e){return fe(Math.round(255*u[e][0]),0,255)})}function ve(e){var t=1===e.mode,n=t?"darkSchemeBackgroundColor":"lightSchemeBackgroundColor";return e[n]}function ge(e){var t=1===e.mode,n=t?"darkSchemeTextColor":"lightSchemeTextColor";return e[n]}function be(e){if(Wr.has(e))return Wr.get(e);var t=te(e),n=X(t);return Wr.set(e,n),n}function ye(){qr.clear(),Wr.clear()}function Se(e,t){var n="";return Gr.forEach(function(t){n+="".concat(e[t],";")}),Hr.forEach(function(e){n+="".concat(t[e],";")}),n}function _e(e,t,n,r,a){var i;qr.has(n)?i=qr.get(n):(i=new Map,qr.set(n,i));var c=Se(e,t);if(i.has(c))return i.get(c);var u=X(e),s=null==r?null:be(r),l=null==a?null:be(a),d=n(u,s,l),f=K(d),h=f.r,p=f.g,m=f.b,v=f.a,g=pe(t),b=o(me([h,p,m],g),3),y=b[0],S=b[1],_=b[2],k=1===v?J({r:y,g:S,b:_}):Z({r:y,g:S,b:_,a:v});return i.set(c,k),k}function ke(e){return e}function we(e,t){return _e(e,t,ke)}function Ee(e,t){var n=ve(t),r=ge(t);return _e(e,t,Ce,r,n)}function Ce(e,t,n){var r,o=e.h,a=e.s,i=e.l,c=e.a,u=i<.5;if(u)r=i<.2||a<.12;else{var s=o>200&&o<280;r=a<.24||i>.8&&s}var l=o,d=i;r&&(u?(l=t.h,d=t.s):(l=n.h,d=n.s));var f=de(i,0,1,t.l,n.l);return{h:l,s:d,l:f,a:c}}function xe(e,t){var n=e.h,r=e.s,o=e.l,a=e.a,i=o<.5,c=n>200&&n<280,u=r<.12||o>.8&&c;if(i){var s=de(o,0,.5,0,zr);if(u){var l=t.h,d=t.s;return{h:l,s:d,l:s,a:a}}return{h:n,s:r,l:s,a:a}}var f=de(o,.5,1,zr,t.l);if(u){var h=t.h;d=t.s;return{h:h,s:d,l:f,a:a}}var p=n,m=n>60&&n<180;if(m){var v=n>120;p=v?de(n,120,180,135,180):de(n,60,120,60,105)}return p>40&&p<80&&(f*=.75),{h:p,s:r,l:f,a:a}}function Te(e,t){if(0===t.mode)return Ee(e,t);var n=ve(t);return _e(e,Hn(Hn({},t),{mode:0}),xe,n)}function Re(e){return de(e,205,245,205,220)}function Ve(e,t){var n=e.h,r=e.s,o=e.l,a=e.a,i=o>.5,c=o<.2||r<.24,u=!c&&n>205&&n<245;if(i){var s=de(o,.5,1,$r,t.l);if(c){var l=t.h,d=t.s;return{h:l,s:d,l:s,a:a}}var f=n;return u&&(f=Re(n)),{h:f,s:r,l:s,a:a}}if(c){var h=t.h,p=(d=t.s,de(o,0,.5,t.l,$r));return{h:h,s:d,l:p,a:a}}var m,v=n;return u?(v=Re(n),m=de(o,0,.5,t.l,Math.min(1,$r+.05))):m=de(o,0,.5,t.l,$r),{h:v,s:r,l:m,a:a}}function Me(e,t){if(0===t.mode)return Ee(e,t);var n=ge(t);return _e(e,Hn(Hn({},t),{mode:0}),Ve,n)}function Ae(e,t,n){var r=e.h,o=e.s,a=e.l,i=e.a,c=a<.5,u=a<.2||o<.24,s=r,l=o;u&&(c?(s=t.h,l=t.s):(s=n.h,l=n.s));var d=de(a,0,1,.5,.2);return{h:s,s:l,l:d,a:i}}function Le(e,t){if(0===t.mode)return Ee(e,t);var n=ge(t),r=ve(t);return _e(e,Hn(Hn({},t),{mode:0}),Ae,n,r)}function Oe(e,t){return Te(e,t)}function Pe(e,t){return Te(e,t)}function De(e){var t=[];return t.push('*:not(pre, pre *, code, .far, .fa, .glyphicon, [class*="vjs-"], .fab, .fa-github, .fas, .material-icons, .icofont, .typcn, mu, [class*="mu-"], .glyphicon, .icon) {'),e.useFont&&e.fontFamily&&t.push("  font-family: ".concat(e.fontFamily," !important;")),e.textStroke>0&&(t.push("  -webkit-text-stroke: ".concat(e.textStroke,"px !important;")),t.push("  text-stroke: ".concat(e.textStroke,"px !important;"))),t.push("}"),t.join("\n")}function Ie(e){var t=[];return e.mode===yr.dark&&t.push("invert(100%) hue-rotate(180deg)"),100!==e.brightness&&t.push("brightness(".concat(e.brightness,"%)")),100!==e.contrast&&t.push("contrast(".concat(e.contrast,"%)")),0!==e.grayscale&&t.push("grayscale(".concat(e.grayscale,"%)")),0!==e.sepia&&t.push("sepia(".concat(e.sepia,"%)")),0===t.length?null:t.join(" ")}function Fe(e){return e.slice(0,4).map(function(e){return e.map(function(e){return e.toFixed(3)}).join(" ")}).join(" ")}function Ne(e){return Fe(pe(e))}function je(e){return t(this,void 0,void 0,function(){return n(this,function(t){return[2,new Promise(function(t,n){var r=++Qr;Kr.set(r,t),Xr.set(r,n),chrome.runtime.sendMessage({type:zn.CS_FETCH,data:e,id:r})})]})})}function Be(e){return t(this,void 0,void 0,function(){var r=this;return n(this,function(o){return[2,new Promise(function(o,a){return t(r,void 0,void 0,function(){var t,r,i,c;return n(this,function(n){switch(n.label){case 0:return e.startsWith("data:")?(t=e,[3,4]):[3,1];case 1:return n.trys.push([1,3,,4]),[4,Ue(e)];case 2:return t=n.sent(),[3,4];case 3:return r=n.sent(),a(r),[2];case 4:return n.trys.push([4,6,,7]),[4,qe(t)];case 5:return i=n.sent(),eo.addToQueue(function(){o(Hn({src:e,dataURL:t,width:i.naturalWidth,height:i.naturalHeight},He(i)))}),[3,7];case 6:return c=n.sent(),a(c),[3,7];case 7:return[2]}})})})]})})}function Ue(e){return t(this,void 0,void 0,function(){var t;return n(this,function(n){switch(n.label){case 0:return t=new URL(e),t.origin!==location.origin?[3,2]:[4,c(e)];case 1:return[2,n.sent()];case 2:return[4,je({url:e,responseType:"data-url"})];case 3:return[2,n.sent()]}})})}function qe(e){return t(this,void 0,void 0,function(){return n(this,function(t){return[2,new Promise(function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=function(){return n("Unable to load image ".concat(e))},r.src=e})]})})}function We(){var e=to,t=to;Yr=document.createElement("canvas"),Yr.width=e,Yr.height=t,Zr=Yr.getContext("2d"),Zr.imageSmoothingEnabled=!1}function Ge(){Yr=null,Zr=null}function He(e){Yr||We();var t=e.naturalWidth,n=e.naturalHeight;if(0===n||0===t)return b("logWarn(Image is empty ".concat(e.currentSrc,")")),null;var r=t*n*4;if(r>no)return g("Skipped large image analyzing(Larger than 5mb in memory)"),{isDark:!1,isLight:!1,isTransparent:!1,isLarge:!1,isTooLarge:!0};var o=t*n,a=Math.min(1,Math.sqrt(to/o)),i=Math.ceil(t*a),c=Math.ceil(n*a);Zr.clearRect(0,0,i,c),Zr.drawImage(e,0,0,t,n,0,0,i,c);var u,s,l,d,f,h,p,m,v=Zr.getImageData(0,0,i,c),y=v.data,S=.05,_=.4,k=.7,w=0,E=0,C=0;for(l=0;l<c;l++)for(s=0;s<i;s++)u=4*(l*i+s),d=y[u+0],f=y[u+1],h=y[u+2],p=y[u+3],p/255<S?w++:(m=le(d,f,h),m<_&&E++,m>k&&C++);var x=i*c,T=x-w,R=.7,V=.7,M=.1,A=48e4;return{isDark:E/T>=R,isLight:C/T>=V,isTransparent:w/x>=M,isLarge:o>=A,isTooLarge:!1}}function ze(e,t){var n=e.dataURL,r=e.width,o=e.height,a=Ne(t),i=['<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'.concat(r,'" height="').concat(o,'">'),"<defs>",'<filter id="darkreader-image-filter">','<feColorMatrix type="matrix" values="'.concat(a,'" />'),"</filter>","</defs>",'<image width="'.concat(r,'" height="').concat(o,'" filter="url(#darkreader-image-filter)" xlink:href="').concat(n,'" />'),"</svg>"].join("");return"data:image/svg+xml;base64,".concat(btoa(i))}function $e(){eo&&eo.stopQueue(),Ge()}function Qe(e){for(var t=[],n=0,r=oo.length,o=function(){var o;if([co,io,oo].find(function(t){if(n-t.length>=0){var r=e.substring(n-t.length,n);if(r===t)return"repeating"===e.slice(n-t.length-10,n-t.length-1)?(o="repeating-".concat(t,"gradient"),!0):"-webkit"===e.slice(n-t.length-8,n-t.length-1)?(o="-webkit-".concat(t,"gradient"),!0):(o="".concat(t,"gradient"),!0)}}),!o)return"break";var a=Q(e,n+ro),i=a.start,c=a.end,u=e.substring(i+1,c-1);r=c+1+ao,t.push({typeGradient:o,match:u,offset:o.length+2,index:n-o.length+ro,hasComma:!0})};-1!==(n=e.indexOf("gradient",r));){var a=o();if("break"===a)break}return t.length&&(t[t.length-1].hasComma=!1),t}function Ke(e,t){return Boolean(e&&e.getPropertyPriority(t))}function Xe(e,t,n,r,o,a){if(e.startsWith("--")){var i=lt(r,e,t,n,o,a);if(i)return{property:e,value:i,important:Ke(n.style,e),sourceValue:t}}else if(t.includes("var(")){i=dt(r,e,t);if(i)return{property:e,value:i,important:Ke(n.style,e),sourceValue:t}}else if(e.includes("color")&&"-webkit-print-color-adjust"!==e||"fill"===e||"stroke"===e||"stop-color"===e){i=at(e,t);if(i)return{property:e,value:i,important:Ke(n.style,e),sourceValue:t}}else if("background-image"===e||"list-style-image"===e){i=ct(t,n,o,a);if(i)return{property:e,value:i,important:Ke(n.style,e),sourceValue:t}}else if(e.includes("shadow")){i=st(t);if(i)return{property:e,value:i,important:Ke(n.style,e),sourceValue:t}}return null}function Ye(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter(Boolean).join(", ")}function Ze(e,t,n){var r=[];t||(r.push("html {"),r.push("    background-color: ".concat(Te({r:255,g:255,b:255},e)," !important;")),r.push("}")),ar&&(r.push("html {"),r.push("    color-scheme: ".concat(1===e.mode?"dark":"dark light"," !important;")),r.push("}"));var o=Ye(t?"":"html, body",n?"input, textarea, select, button":"");return o&&(r.push("".concat(o," {")),r.push("    background-color: ".concat(Te({r:255,g:255,b:255},e),";")),r.push("}")),r.push("".concat(Ye("html, body",n?"input, textarea, select, button":"")," {")),r.push("    border-color: ".concat(Le({r:76,g:76,b:76},e),";")),r.push("    color: ".concat(Me({r:0,g:0,b:0},e),";")),r.push("}"),r.push("a {"),r.push("    color: ".concat(Me({r:0,g:64,b:255},e),";")),r.push("}"),r.push("table {"),r.push("    border-color: ".concat(Le({r:128,g:128,b:128},e),";")),r.push("}"),r.push("::placeholder {"),r.push("    color: ".concat(Me({r:169,g:169,b:169},e),";")),r.push("}"),r.push("input:-webkit-autofill,"),r.push("textarea:-webkit-autofill,"),r.push("select:-webkit-autofill {"),r.push("    background-color: ".concat(Te({r:250,g:255,b:189},e)," !important;")),r.push("    color: ".concat(Me({r:0,g:0,b:0},e)," !important;")),r.push("}"),e.scrollbarColor&&r.push(tt(e)),e.selectionColor&&r.push(et(e)),r.join("\n")}function Je(e){var t,n;if("auto"===e.selectionColor)t=Te({r:0,g:96,b:212},Hn(Hn({},e),{grayscale:0})),n=Me({r:255,g:255,b:255},Hn(Hn({},e),{grayscale:0}));else{var r=te(e.selectionColor),o=X(r);t=e.selectionColor,n=o.l<.5?"#FFF":"#000"}return{backgroundColorSelection:t,foregroundColorSelection:n}}function et(e){var t=[],n=Je(e),r=n.backgroundColorSelection,o=n.foregroundColorSelection;return["::selection","::-moz-selection"].forEach(function(e){t.push("".concat(e," {")),t.push("    background-color: ".concat(r," !important;")),t.push("    color: ".concat(o," !important;")),t.push("}")}),t.join("\n")}function tt(e){var t,n,r,o,a,i,c=[];if("auto"===e.scrollbarColor)t=Te({r:241,g:241,b:241},e),n=Me({r:96,g:96,b:96},e),r=Te({r:176,g:176,b:176},e),o=Te({r:144,g:144,b:144},e),a=Te({r:96,g:96,b:96},e),i=Te({r:255,g:255,b:255},e);else{var u=te(e.scrollbarColor),s=X(u),l=s.l>.5,d=function(e){return Hn(Hn({},s),{l:fe(s.l+e,0,1)})},f=function(e){return Hn(Hn({},s),{l:fe(s.l-e,0,1)})};t=ee(f(.4)),n=ee(l?f(.4):d(.4)),r=ee(s),o=ee(d(.1)),a=ee(d(.2))}return c.push("::-webkit-scrollbar {"),c.push("    background-color: ".concat(t,";")),c.push("    color: ".concat(n,";")),c.push("}"),c.push("::-webkit-scrollbar-thumb {"),c.push("    background-color: ".concat(r,";")),c.push("}"),c.push("::-webkit-scrollbar-thumb:hover {"),c.push("    background-color: ".concat(o,";")),c.push("}"),c.push("::-webkit-scrollbar-thumb:active {"),c.push("    background-color: ".concat(a,";")),c.push("}"),c.push("::-webkit-scrollbar-corner {"),c.push("    background-color: ".concat(i,";")),c.push("}"),Yn&&(c.push("* {"),c.push("    scrollbar-color: ".concat(r," ").concat(t,";")),c.push("}")),c.join("\n")}function nt(e,t){var n=t.strict,r=[],o=["microsoft.com","docs.microsoft.com"].includes(location.hostname);return r.push("html, body, ".concat(n?"body :not(iframe)".concat(o?':not(div[style^="position:absolute;top:0;left:-"]':""):"body > :not(iframe)"," {")),r.push("    background-color: ".concat(Te({r:255,g:255,b:255},e)," !important;")),r.push("    border-color: ".concat(Le({r:64,g:64,b:64},e)," !important;")),r.push("    color: ".concat(Me({r:0,g:0,b:0},e)," !important;")),r.push("}"),r.join("\n")}function rt(e){if(e=e.trim(),so.has(e))return so.get(e);e.includes("calc(")&&(e=se(e));var t=te(e);return so.set(e,t),t}function ot(e){try{return rt(e)}catch(e){return null}}function at(e,t){if(uo.has(t.toLowerCase()))return t;try{var n=rt(t);return e.includes("background")?function(e){return Te(n,e)}:e.includes("border")||e.includes("outline")?function(e){return Le(n,e)}:function(e){return Me(n,e)}}catch(e){return b("Color parse error",e),null}}function it(e,t){if(!e||0===t.length)return!1;if(t.some(function(e){return"*"===e}))return!0;for(var n=e.split(/,\s*/g),r=function(e){var r=t[e];if(n.some(function(e){return e===r}))return{value:!0}},o=0;o<t.length;o++){var a=r(o);if("object"==typeof a)return a.value}return!1}function ct(e,r,o,a){var i=this;try{var c=Qe(e),u=z(xr,e);if(0===u.length&&0===c.length)return e;var s=function(t){var n=0;return t.map(function(t){var r=e.indexOf(t,n);return n=r+t.length,{match:t,index:r}})},l=c.map(function(e){return Hn({type:"gradient"},e)}).concat(s(u).map(function(e){return Hn({type:"url",offset:0},e)})).sort(function(e,t){return e.index>t.index?1:-1}),d=function(e){var t=e.typeGradient,n=e.match,r=e.hasComma,o=/([^\(\),]+(\([^\(\)]*(\([^\(\)]*\)*[^\(\)]*)?\))?[^\(\),]*),?/g,a=/^(from|color-stop|to)\(([^\(\)]*?,\s*)?(.*?)\)$/,i=z(o,n,1).map(function(e){e=e.trim();var t=ot(e);if(t)return function(e){return Pe(t,e)};var n=e.lastIndexOf(" ");if(t=ot(e.substring(0,n)),t)return function(r){return"".concat(Pe(t,r)," ").concat(e.substring(n+1))};var r=e.match(a);return r&&(t=ot(r[3]),t)?function(e){return"".concat(r[1],"(").concat(r[2]?"".concat(r[2],", "):"").concat(Pe(t,e),")")}:function(){return e}});return function(e){return"".concat(t,"(").concat(i.map(function(t){return t(e)}).join(", "),")").concat(r?", ":"")}},f=function(e){var c;if(it(r.selectorText,o))return null;var u=B(e),s=r.parentStyleSheet,l=s&&s.href?U(s.href):(null===(c=s.ownerNode)||void 0===c?void 0:c.baseURI)||location.origin;u=I(l,u);var d='url("'.concat(u,'")');return function(e){return t(i,void 0,void 0,function(){var t,r,o,i;return n(this,function(n){switch(n.label){case 0:return lo.has(u)?(t=lo.get(u),[3,7]):[3,1];case 1:return n.trys.push([1,6,,7]),fo.has(u)?(r=fo.get(u),[4,new Promise(function(e){return r.push(e)})]):[3,3];case 2:return t=n.sent(),t?[3,5]:[2,null];case 3:return fo.set(u,[]),[4,Be(u)];case 4:t=n.sent(),lo.set(u,t),fo.get(u).forEach(function(e){return e(t)}),fo.delete(u),n.label=5;case 5:return a()?[2,null]:[3,7];case 6:return o=n.sent(),b(o),fo.has(u)&&(fo.get(u).forEach(function(e){return e(null)}),fo.delete(u)),[2,d];case 7:return i=h(t,e)||d,[2,i]}})})}},h=function(e,t){var n,r=e.isDark,o=e.isLight,a=e.isTransparent,i=e.isLarge,c=e.isTooLarge,u=e.width;if(c)n='url("'.concat(e.src,'")');else if(r&&a&&1===t.mode&&!i&&u>2){g("Inverting dark image ".concat(e.src));var s=ze(e,Hn(Hn({},t),{sepia:fe(t.sepia+10,0,100)}));n='url("'.concat(s,'")')}else if(o&&!a&&1===t.mode)if(i)n="none";else{g("Dimming light image ".concat(e.src));var l=ze(e,t);n='url("'.concat(l,'")')}else if(0===t.mode&&o&&!i){g("Applying filter to image ".concat(e.src));var d=ze(e,Hn(Hn({},t),{brightness:fe(t.brightness-10,5,200),sepia:fe(t.sepia+10,0,100)}));n='url("'.concat(d,'")')}else n=null;return n},p=[],m=0;return l.forEach(function(t,n){var r=t.type,o=t.match,a=t.index,i=t.typeGradient,c=t.hasComma,u=t.offset,s=a,h=m,v=s+o.length+u;m=v,h!==s&&p.push(function(){return e.substring(h,s)}),"url"===r?p.push(f(o)):"gradient"===r&&p.push(d({match:o,index:a,typeGradient:i,hasComma:c,offset:u})),n===l.length-1&&p.push(function(){return e.substring(v)})}),function(e){var t=p.filter(Boolean).map(function(t){return t(e)});return t.some(function(e){return e instanceof Promise})?Promise.all(t).then(function(e){return e.filter(Boolean).join("")}):t.join("")}}catch(t){return b("Unable to parse gradient ".concat(e),t),null}}function ut(e){try{var t=0,n=z(/(^|\s)(?!calc)([a-z]+\(.+?\)|#[0-9a-f]+|[a-z]+)(.*?(inset|outset)?($|,))/gi,e,2),r=0,o=n.map(function(o,a){var i=t,c=e.indexOf(o,t),u=c+o.length;t=u;var s=ot(o);return s?function(t){return"".concat(e.substring(i,c)).concat(Oe(s,t)).concat(a===n.length-1?e.substring(u):"")}:(r++,function(){return e.substring(i,u)})});return function(e){var t=o.map(function(t){return t(e)}).join("");return{matchesLength:n.length,unparseableMatchesLength:r,result:t}}}catch(t){return b("Unable to parse shadow ".concat(e),t),null}}function st(e){var t=ut(e);return t?function(e){return t(e).result}:null}function lt(e,t,n,r,o,a){
return e.getModifierForVariable({varName:t,sourceValue:n,rule:r,ignoredImgSelectors:o,isCancelled:a})}function dt(e,t,n){return e.getModifierForVarDependant(t,n)}function ft(){so.clear(),ye(),lo.clear(),$e(),fo.clear()}function ht(e,t){void 0===t&&(t=0);var n=e.indexOf("var(",t);if(n>=0){var r=Q(e,n+3);return r?{start:n,end:r.end}:null}}function pt(e){for(var t,n=[],r=0;t=ht(e,r);){var o=t.start,a=t.end;n.push({start:o,end:a,value:e.substring(o,a)}),r=t.end+1}return n}function mt(e,t){var n=pt(e),r=n.length;if(0===r)return e;var o=e.length,a=n.map(function(e){return t(e.value)}),i=[];i.push(e.substring(0,n[0].start));for(var c=0;c<r;c++){i.push(a[c]);var u=n[c].end,s=c<r-1?n[c+1].start:o;i.push(e.substring(u,s))}return i.join("")}function vt(e){var t,n,r=e.indexOf(",");return r>=0?(t=e.substring(4,r).trim(),n=e.substring(r+1,e.length-1).trim()):(t=e.substring(4,e.length-1).trim(),n=""),{name:t,fallback:n}}function gt(e,t,n){var r=function(e){var r,o=vt(e),a=o.name,i=o.fallback,c=t(a);return i?(r=Et(i)?gt(i,t,n):n?n(i):i,"var(".concat(c,", ").concat(r,")")):"var(".concat(c,")")};return mt(e,r)}function bt(e,t){gt(e,function(e){return t(e),e})}function yt(e){return"--darkreader-bg".concat(e)}function St(e){return"--darkreader-text".concat(e)}function _t(e){return"--darkreader-border".concat(e)}function kt(e){return"--darkreader-bgimg".concat(e)}function wt(e){return e.startsWith("--")}function Et(e){return e.includes("var(")}function Ct(e){return e.match(/^\s*(rgb|hsl)a?\(/)}function xt(e){if(yo.test(e)){var t=e.split(","),n="rgb(";return t.forEach(function(e){n+="".concat(e.trim(),", ")}),n=n.substring(0,n.length-2),n+=")",{isRaw:!0,color:n}}return{isRaw:!1,color:e}}function Tt(e,t,n){var r=xt(e),o=r.isRaw,a=r.color,i=ot(a);if(i){var c=n(i,t);if(o){var u=ot(c);return u?"".concat(u.r,", ").concat(u.g,", ").concat(u.b):c}return c}return a}function Rt(e,t){return Tt(e,t,Te)}function Vt(e,t){return Tt(e,t,Me)}function Mt(e,t){return Tt(e,t,Le)}function At(e,t,n){void 0===n&&(n=new Set);var r=!1,o=function(e){var o=vt(e),a=o.name,i=o.fallback;if(n.has(a))return r=!0,null;n.add(a);var c=t.get(a)||i,u=null;return c&&(u=Et(c)?At(c,t,n):c),u||(r=!0,null)},a=mt(e,o);return r?null:a}function Lt(){return _o.map(function(e){var t=e.dataAttr,n=e.customProp,r=e.cssProp;return["[".concat(t,"] {"),"  ".concat(r,": var(").concat(n,") !important;"),"}"].join("\n")}).join("\n")}function Ot(e){var t=[];return e instanceof Element&&e.matches(Eo)&&t.push(e),(e instanceof Element||nr&&e instanceof ShadowRoot||e instanceof Document)&&m(t,e.querySelectorAll(Eo)),t}function Pt(e,t){Dt(document,e,t),E(document.documentElement,function(n){Dt(n.shadowRoot,e,t)})}function Dt(e,t,n){function r(e){Ot(e).forEach(function(e){i.has(e)||(i.add(e),t(e))}),E(e,function(r){i.has(e)||(i.add(e),n(r.shadowRoot),Dt(r.shadowRoot,t,n))})}Co.has(e)&&(Co.get(e).disconnect(),xo.get(e).disconnect());var i=new WeakSet,c=O(e,{onMinorMutations:function(e){var t=e.additions;t.forEach(function(e){return r(e)})},onHugeMutations:function(){r(e)}});Co.set(e,c);var u=0,s=null,l=_({seconds:10}),d=_({seconds:2}),f=50,h=[],p=null,m=y(function(e){e.forEach(function(e){wo.includes(e.attributeName)&&t(e.target)})}),v=new MutationObserver(function(e){if(p)h.push.apply(h,a([],o(e),!1));else{u++;var t=Date.now();if(null==s)s=t;else if(u>=f){if(t-s<l)return p=setTimeout(function(){s=null,u=0,p=null;var e=h;h=[],m(e)},d),void h.push.apply(h,a([],o(e),!1));s=t,u=1}m(e)}});v.observe(e,{attributes:!0,attributeFilter:wo.concat(_o.map(function(e){var t=e.dataAttr;return t})),subtree:!0}),xo.set(e,v)}function It(){Co.forEach(function(e){return e.disconnect()}),xo.forEach(function(e){return e.disconnect()}),Co.clear(),xo.clear()}function Ft(e,t){return wo.map(function(t){return"".concat(t,'="').concat(e.getAttribute(t),'"')}).concat(Ro.map(function(e){return"".concat(e,'="').concat(t[e],'"')})).join(" ")}function Nt(e,t){for(var n=0,r=t.length;n<r;n++){var o=t[n];if(e.matches(o))return!0}return!1}function jt(e,t,n,r){function o(n,o,a){var c=n.startsWith("--"),u=c?{}:So[n],s=u.customProp,l=u.dataAttr,d=Xe(o,a,{},bo,r,null);if(d){var f=d.value;if("function"==typeof f&&(f=f(t)),c&&"object"==typeof f){var h=f;h.declarations.forEach(function(t){var n=t.property,r=t.value;!(r instanceof Promise)&&e.style.setProperty(n,r)})}else e.style.setProperty(s,f),e.hasAttribute(l)||e.setAttribute(l,""),i.delete(n)}}var a=Ft(e,t);if(a!==To.get(e)){var i=new Set(Object.keys(So));if(n.length>0&&Nt(e,n))i.forEach(function(t){e.removeAttribute(So[t].dataAttr)});else{if(e.hasAttribute("bgcolor")){var c=e.getAttribute("bgcolor");(c.match(/^[0-9a-f]{3}$/i)||c.match(/^[0-9a-f]{6}$/i))&&(c="#".concat(c)),o("background-color","background-color",c)}if(e.hasAttribute("color")&&"mask-icon"!==e.rel){c=e.getAttribute("color");(c.match(/^[0-9a-f]{3}$/i)||c.match(/^[0-9a-f]{6}$/i))&&(c="#".concat(c)),o("color","color",c)}if(e instanceof SVGElement){if(e.hasAttribute("fill")){var u=32,s=e.getAttribute("fill");if("none"!==s)if(e instanceof SVGTextElement)o("fill","color",s);else{var l=function(){var t=e.getBoundingClientRect(),n=t.width,r=t.height,a=n>u||r>u;o("fill",a?"background-color":"color",s)};R()?l():V(l)}}e.hasAttribute("stop-color")&&o("stop-color","background-color",e.getAttribute("stop-color"))}if(e.hasAttribute("stroke")){c=e.getAttribute("stroke");o("stroke",e instanceof SVGLineElement||e instanceof SVGTextElement?"border-color":"color",c)}e.style&&j(e.style,function(t,n){if("background-image"!==t||!n.includes("url"))if(So.hasOwnProperty(t)||t.startsWith("--")&&!ko[t])o(t,t,n);else{var r=ko[t];if(r&&!e.style.getPropertyValue(r)&&!e.hasAttribute(r)){if("background-color"===r&&e.hasAttribute("bgcolor"))return;e.style.setProperty(t,"")}}}),e.style&&e instanceof SVGTextElement&&e.style.fill&&o("fill","color",e.style.getPropertyValue("fill")),p(i,function(t){e.removeAttribute(So[t].dataAttr)}),To.set(e,Ft(e,t))}}}function Bt(e,t){Ao=Ao||e.content;try{var n=te(Ao);e.content=Te(n,t)}catch(e){b(e)}}function Ut(e){var t=document.querySelector(Mo);t?Bt(t,e):(Lo&&Lo.disconnect(),Lo=new MutationObserver(function(t){e:for(var n=0;n<t.length;n++)for(var r=t[n].addedNodes,o=0;o<r.length;o++){var a=r[o];if(a instanceof HTMLMetaElement&&a.name===Vo){Lo.disconnect(),Lo=null,Bt(a,e);break e}}}),Lo.observe(document.head,{childList:!0}))}function qt(){Lo&&(Lo.disconnect(),Lo=null);var e=document.querySelector(Mo);e&&Ao&&(e.content=Ao)}function Wt(e){var t="";return Oo.forEach(function(n){t+="".concat(n,":").concat(e[n],";")}),t}function Gt(){function e(){return s&&!l}function t(e){function t(e,t,n){var r=n.selector,o=n.declarations,a=function(e){var t=e.property,n=e.value,r=e.important,o=e.sourceValue;return"".concat(t,": ").concat(null==n?o:n).concat(r?" !important":"",";")},i="";o.forEach(function(e){i+="".concat(a(e)," ")});var c="".concat(r," { ").concat(i," }");e.insertRule(c,t)}function d(e){if(null==e)return M;if(A.has(e))return A.get(e);var t={rule:e,rules:[],isGroup:!0};A.set(e,t);var n=d(e.parentRule);return n.rules.push(t),t}function f(){function e(e,t){var n=e.rule;if(n instanceof CSSMediaRule){var r=n.media,o=t.cssRules.length;return t.insertRule("@media ".concat(r.mediaText," {}"),o),t.cssRules[o]}return t}function n(t,r,o){t.rules.forEach(function(t){if(t.isGroup){var a=e(t,r);n(t,a,o)}else o(t,r)})}n(M,L,function(e,n){var r=n.cssRules.length;e.declarations.forEach(function(t){var o=t.asyncKey,a=t.varKey;null!=o&&x.set(o,{rule:e,target:n,index:r}),null!=a&&T.set(a,{rule:e,target:n,index:r})}),t(n,r,e)})}function h(e){var n=x.get(e),r=n.rule,o=n.target,a=n.index;o.deleteRule(a),t(o,a,r),x.delete(e)}function p(e){var n=T.get(e),r=n.rule,o=n.target,a=n.index;o.deleteRule(a),t(o,a,r)}var m=e.sourceCSSRules,v=e.theme,g=e.ignoreImageAnalysis,b=e.force,y=e.prepareSheet,S=e.isAsyncCancelled,_=0===i.size,k=new Set(i.keys()),w=Wt(v),E=w!==u;s&&(l=!0);var C=[];if(N(m,function(e){var t=e.cssText,n=!1;if(k.delete(t),e.parentRule instanceof CSSMediaRule&&(t+=";".concat(e.parentRule.media.mediaText)),r.has(t)||(r.add(t),n=!0),n){_=!0;var o=[];e.style&&j(e.style,function(t,n){var r=Xe(t,n,e,bo,g,S);r&&o.push(r)});var a=null;if(o.length>0){var c=e.parentRule;a={selector:e.selectorText,declarations:o,parentRule:c},C.push(a)}i.set(t,a)}else C.push(i.get(t))},function(){s=!0}),k.forEach(function(e){r.delete(e),i.delete(e)}),u=w,b||_||E){n++;var x=new Map,T=new Map,R=0,V=0,M={rule:null,rules:[],isGroup:!0},A=new WeakMap;c.forEach(function(e){return e()}),c.clear(),C.filter(function(e){return e}).forEach(function(e){function t(e,t,r,o){var a=++R,i={property:e,value:null,important:r,asyncKey:a,sourceValue:o};m.push(i);var c=n;t.then(function(e){e&&!S()&&c===n&&(i.value=e,Po.add(function(){S()||c!==n||h(a)}))})}function r(e,r,i,u){var s=r,l=s.declarations,d=s.onTypeChange,f=++V,h=n,v=m.length,g=[];if(0===l.length){var b={property:e,value:u,important:i,sourceValue:u,varKey:f};m.push(b),g=[b]}l.forEach(function(e){if(e.value instanceof Promise)t(e.property,e.value,i,u);else{var n={property:e.property,value:e.value,important:i,sourceValue:u,varKey:f};m.push(n),g.push(n)}}),d.addListener(function(e){if(!S()&&h===n){var t=e.map(function(e){return{property:e.property,value:e.value,important:i,sourceValue:u,varKey:f}}),r=m.indexOf(g[0],v);m.splice.apply(m,a([r,g.length],o(t),!1)),g=t,p(f)}}),c.add(function(){return d.removeListeners()})}var i=e.selector,u=e.declarations,s=e.parentRule,l=d(s),f={selector:i,declarations:[],isGroup:!1},m=f.declarations;l.rules.push(f),u.forEach(function(e){var n=e.property,o=e.value,a=e.important,i=e.sourceValue;if("function"==typeof o){var c=o(v);c instanceof Promise?t(n,c,a,i):n.startsWith("--")?r(n,c,a,i):m.push({property:n,value:c,important:a,sourceValue:i})}else m.push({property:n,value:o,important:a,sourceValue:i})})});var L=y();f()}}var n=0,r=new Set,i=new Map,c=new Set,u=null,s=!1,l=!1;return{modifySheet:t,shouldRebuildStyle:e}}function Ht(e){return(e instanceof HTMLStyleElement||e instanceof SVGStyleElement||e instanceof HTMLLinkElement&&e.rel&&e.rel.toLowerCase().includes("stylesheet")&&!e.disabled&&(!Yn||!e.href.startsWith("moz-extension://"))&&"fonts.googleapis.com"!=new URL(e.href).hostname)&&!e.classList.contains("darkreader")&&"print"!==e.media.toLowerCase()&&!e.classList.contains("stylus")}function zt(e,t,n){return void 0===t&&(t=[]),void 0===n&&(n=!0),Ht(e)?t.push(e):(e instanceof Element||nr&&e instanceof ShadowRoot||e===document)&&(p(e.querySelectorAll(Do),function(e){return zt(e,t,!1)}),n&&E(e,function(e){return zt(e.shadowRoot,t,!1)})),t}function $t(){qo.clear()}function Qt(e,r){function a(){return e instanceof HTMLStyleElement&&e.textContent.trim().match(Tr)}function i(e,t){var n=!1;if(e){var r=void 0;e:for(var o=0,a=e.length;o<a;o++)if(r=e[o],r.href){if(!t){n=!0;break e}if(r.href.startsWith("http")&&!r.href.startsWith(location.origin)){n=!0;break e}}}return n}function c(){if(B)return g("[getRulesSync] Using cors-copy."),B.sheet.cssRules;if(a())return g("[getRulesSync] CSSImport detected."),null;var t=m();return e instanceof HTMLLinkElement&&!F(e.href)&&i(t,!1)?(g("[getRulesSync] CSSImportRule detected on non-local href."),null):i(t,!0)?(g("[getRulesSync] Cross-Origin CSSImportRule detected."),null):(g("[getRulesSync] Using cssRules."),!t&&b("[getRulesSync] cssRules is null, trying again."),t)}function u(){B?(e.nextSibling!==B&&e.parentNode.insertBefore(B,e.nextSibling),B.nextSibling!==q&&e.parentNode.insertBefore(q,B.nextSibling)):e.nextSibling!==q&&e.parentNode.insertBefore(q,e.nextSibling)}function s(){q=e instanceof SVGStyleElement?document.createElementNS("http://www.w3.org/2000/svg","style"):document.createElement("style"),q.classList.add("darkreader"),q.classList.add("darkreader--sync"),q.media="screen",e.title&&(q.title=e.title),Io.add(q)}function l(){return t(this,void 0,void 0,function(){var t,r,c,u,s,l,d,f,m;return n(this,function(n){switch(n.label){case 0:if(!(e instanceof HTMLLinkElement))return[3,7];if(c=o(h(),2),u=c[0],s=c[1],s&&b(s),(u||s||Zn)&&(!Zn||e.sheet)&&!p(s))return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),g("Linkelement ".concat(Z," is not loaded yet and thus will be await for"),e),[4,Kt(e,Z)];case 2:return n.sent(),[3,4];case 3:return l=n.sent(),b(l),Y=!0,[3,4];case 4:if(H)return[2,null];m=o(h(),2),u=m[0],s=m[1],s&&b(s),n.label=5;case 5:return u&&!i(u,!1)?[2,u]:[4,Yt(e.href)];case 6:return t=n.sent(),r=U(e.href),H?[2,null]:[3,8];case 7:if(!a())return[2,null];t=e.textContent.trim(),r=U(location.href),n.label=8;case 8:if(!t)return[3,13];n.label=9;case 9:return n.trys.push([9,11,,12]),[4,Zt(t,r)];case 10:return d=n.sent(),B=Jt(e,d),[3,12];case 11:return f=n.sent(),b(f),[3,12];case 12:if(B)return W=w(B,"prev-sibling"),[2,B.sheet.cssRules];n.label=13;case 13:return[2,null]}})})}function d(e){var t=c();return t?{rules:t}:e.secondRound?(b("Detected dead-lock at details(), returning early to prevent it."),null):X||Y?null:(X=!0,D(),l().then(function(e){X=!1,I(),e&&P()}).catch(function(e){b(e),X=!1,I()}),null)}function f(e,t){function n(e){for(var t=e.cssRules.length-1;t>=0;t--)e.deleteRule(t)}function r(){q||s(),G&&G.stop(),u(),null==q.sheet&&(q.textContent="");var e=q.sheet;return n(e),G?G.run():G=w(q,"prev-sibling",function(){J=!0,o()}),q.sheet}function o(){var n=J;J=!1,$.modifySheet({prepareSheet:r,sourceCSSRules:a,theme:e,ignoreImageAnalysis:t,force:n,isAsyncCancelled:function(){return H}}),z=0===q.sheet.cssRules.length,$.shouldRebuildStyle()&&V(function(){return P()})}var a=c();a&&(H=!1,o())}function h(){try{return null==e.sheet?[null,null]:[e.sheet.cssRules,null]}catch(e){return[null,e]}}function p(e){return e&&e.message&&e.message.includes("loading")}function m(){var e=o(h(),2),t=e[0],n=e[1];return n?(b(n),null):t}function v(){x(),Xn||No&&e.sheet||_()}function y(){var e=m();return e?e.length:null}function S(){return y()!==ee}function _(){ee=y(),E();var t=function(){S()&&(ee=y(),P()),No&&e.sheet?E():te=requestAnimationFrame(t)};t()}function E(){cancelAnimationFrame(te)}function C(){function e(){ne=!1,H||P()}No=!0,E(),ne||(ne=!0,"function"==typeof queueMicrotask?queueMicrotask(e):requestAnimationFrame(e))}function x(){e.addEventListener("__darkreader__updateSheet",C)}function T(){e.removeEventListener("__darkreader__updateSheet",C)}function R(){T(),E()}function M(){Q.disconnect(),H=!0,W&&W.stop(),G&&G.stop(),R()}function A(){if(M(),k(B),k(q),I(),qo.has(Z)){var e=qo.get(Z);qo.delete(Z),e&&e()}}function L(){Q.observe(e,K),e instanceof HTMLStyleElement&&v()}function O(){q&&(oe++,oe>re?b("Style sheet was moved multiple times",e):(b("Restore style",q,e),u(),W&&W.skip(),G&&G.skip(),z||(J=!0,P())))}for(var P=r.update,D=r.loadingStart,I=r.loadingEnd,N=[],j=e;(j=j.nextElementSibling)&&j.matches(".darkreader");)N.push(j);var B=N.find(function(e){return e.matches(".darkreader--cors")&&!Fo.has(e)})||null,q=N.find(function(e){return e.matches(".darkreader--sync")&&!Io.has(e)})||null,W=null,G=null,H=!1,z=!0,$=Gt(),Q=new MutationObserver(function(){P()}),K={attributes:!0,childList:!0,subtree:!0,characterData:!0},X=!1,Y=!1,Z=++Uo,J=!1,ee=null,te=null,ne=!1,re=10,oe=0;return{details:d,render:f,pause:M,destroy:A,watch:L,restore:O}}function Kt(e,r){return t(this,void 0,void 0,function(){return n(this,function(t){return[2,new Promise(function(t,n){var o=function(){e.removeEventListener("load",a),e.removeEventListener("error",i),qo.delete(r)},a=function(){o(),g("Linkelement ".concat(r," has been loaded")),t()},i=function(){o(),n("Linkelement ".concat(r," couldn't be loaded. ").concat(e.href))};qo.set(r,function(){o(),n()}),e.addEventListener("load",a),e.addEventListener("error",i),e.href||i()})]})})}function Xt(e){return B(e.substring(7).trim().replace(/;$/,"").replace(/screen$/,""))}function Yt(e){return t(this,void 0,void 0,function(){return n(this,function(t){switch(t.label){case 0:return e.startsWith("data:")?[4,fetch(e)]:[3,3];case 1:return[4,t.sent().text()];case 2:return[2,t.sent()];case 3:return[4,je({url:e,responseType:"text",mimeType:"text/css",origin:window.location.origin})];case 4:return[2,t.sent()]}})})}function Zt(e,o,a){return void 0===a&&(a=new Map),t(this,void 0,void 0,function(){var t,i,c,u,s,l,d,f,h,p,m;return n(this,function(n){switch(n.label){case 0:e=W(e),e=G(e),e=q(e,o),t=z(Tr,e),n.label=1;case 1:n.trys.push([1,10,11,12]),i=r(t),c=i.next(),n.label=2;case 2:return c.done?[3,9]:(u=c.value,s=Xt(u),l=I(o,s),d=void 0,a.has(l)?(d=a.get(l),[3,7]):[3,3]);case 3:return n.trys.push([3,6,,7]),[4,Yt(l)];case 4:return d=n.sent(),a.set(l,d),[4,Zt(d,U(l),a)];case 5:return d=n.sent(),[3,7];case 6:return f=n.sent(),b(f),d="",[3,7];case 7:e=e.split(u).join(d),n.label=8;case 8:return c=i.next(),[3,2];case 9:return[3,12];case 10:return h=n.sent(),p={error:h},[3,12];case 11:try{c&&!c.done&&(m=i.return)&&m.call(i)}finally{if(p)throw p.error}return[7];case 12:return e=e.trim(),[2,e]}})})}function Jt(e,t){if(!t)return null;var n=document.createElement("style");return n.classList.add("darkreader"),n.classList.add("darkreader--cors"),n.media="screen",n.textContent=t,e.parentNode.insertBefore(n,e.nextSibling),n.sheet.disabled=!0,Fo.add(n),n}function en(e){or&&p(e.querySelectorAll(":not(:defined)"),function(e){var t=e.tagName.toLowerCase();if(!t.includes("-")){var n=e.getAttribute("is");if(!n)return;t=n}Go.has(t)||(Go.set(t,new Set),nn(t).then(function(){if(Bo){var e=Go.get(t);Go.delete(t),Bo(Array.from(e))}})),Go.get(t).add(e)})}function tn(e){if(Ho=!0,zo.has(e.detail.tag)){var t=zo.get(e.detail.tag);t()}}function nn(e){return t(this,void 0,void 0,function(){return n(this,function(t){return[2,new Promise(function(t){if(window.customElements&&"function"==typeof customElements.whenDefined)customElements.whenDefined(e).then(function(){return t()});else if(Ho)zo.set(e,t),document.dispatchEvent(new CustomEvent("__darkreader__addUndefinedResolver",{detail:{tag:e}}));else{var n=function(){var r=Go.get(e);r&&r.size>0&&(r.values().next().value.matches(":defined")?t():requestAnimationFrame(n))};requestAnimationFrame(n)}})]})})}function rn(e){Bo=e}function on(){Bo=null,Go.clear(),document.removeEventListener("__darkreader__isDefined",tn)}function an(e,t,n){function r(e){h.set(e,e.previousElementSibling),p.set(e,e.nextElementSibling)}function o(e){h.delete(e),p.delete(e)}function a(e){return e.previousElementSibling!==h.get(e)||e.nextElementSibling!==p.get(e)}function i(e){var n=e.createdStyles,a=e.removedStyles,i=e.movedStyles;n.forEach(function(e){return r(e)}),i.forEach(function(e){return r(e)}),a.forEach(function(e){return o(e)}),n.forEach(function(e){return f.add(e)}),a.forEach(function(e){return f.delete(e)}),n.size+a.size+i.size>0&&t({created:Array.from(n),removed:Array.from(a),moved:Array.from(i),updated:[]})}function c(e){var t=e.additions,n=e.moves,r=e.deletions,o=new Set,a=new Set,c=new Set;t.forEach(function(e){return zt(e).forEach(function(e){return o.add(e)})}),r.forEach(function(e){return zt(e).forEach(function(e){return a.add(e)})}),n.forEach(function(e){return zt(e).forEach(function(e){return c.add(e)})}),i({createdStyles:o,removedStyles:a,movedStyles:c}),t.forEach(function(e){E(e,d),en(e)})}function u(e){var t=new Set(zt(e)),n=new Set,r=new Set,o=new Set;t.forEach(function(e){f.has(e)||n.add(e)}),f.forEach(function(e){t.has(e)||r.add(e)}),t.forEach(function(e){n.has(e)||r.has(e)||!a(e)||o.add(e)}),i({createdStyles:n,removedStyles:r,movedStyles:o}),E(e,d),en(e)}function s(e){var n=new Set,r=new Set;e.forEach(function(e){var t=e.target;t.isConnected&&(Ht(t)?n.add(t):t instanceof HTMLLinkElement&&t.disabled&&r.add(t))}),n.size+r.size>0&&t({updated:Array.from(n),created:[],removed:Array.from(r),moved:[]})}function l(e){var t=O(e,{onMinorMutations:c,onHugeMutations:u}),n=new MutationObserver(s);n.observe(e,{attributes:!0,attributeFilter:["rel","disabled","media"],subtree:!0}),Wo.push(t,n),jo.add(e)}function d(e){var t=e.shadowRoot;null==t||jo.has(t)||(l(t),n(t))}un();var f=new Set(e),h=new WeakMap,p=new WeakMap;e.forEach(r),l(document),E(document.documentElement,d),rn(function(e){var n=[];e.forEach(function(e){return m(n,zt(e.shadowRoot))}),t({created:n,updated:[],removed:[],moved:[]}),e.forEach(function(e){var t=e.shadowRoot;null!=t&&(d(e),E(t,d),en(t))})}),document.addEventListener("__darkreader__isDefined",tn),en(document)}function cn(){Wo.forEach(function(e){return e.disconnect()}),Wo.splice(0,Wo.length),jo=new WeakSet}function un(){cn(),on()}function sn(e){return(e<16?"0":"")+e.toString(16)}function ln(){if("randomUUID"in crypto){var e=crypto.randomUUID();return e.substring(0,8)+e.substring(9,13)+e.substring(14,18)+e.substring(19,23)+e.substring(24)}return Array.from(crypto.getRandomValues(new Uint8Array(16))).map(function(e){return sn(e)}).join("")}function dn(e){function t(t,n){var r=a([],o(e.adoptedStyleSheets),!1),i=r.indexOf(t),c=r.indexOf(n);i!==c-1&&(c>=0&&r.splice(c,1),r.splice(i+1,0,n),e.adoptedStyleSheets=r)}function n(){i=!0;var t=a([],o(e.adoptedStyleSheets),!1);e.adoptedStyleSheets.forEach(function(e){if(Qo.has(e)){var n=t.indexOf(e);n>=0&&t.splice(n,1),$o.delete(e),Qo.delete(e)}}),e.adoptedStyleSheets=t}function r(n,r){e.adoptedStyleSheets.forEach(function(e){function o(){for(var n=c.cssRules.length-1;n>=0;n--)c.deleteRule(n);return t(e,c),$o.set(e,c),Qo.add(c),c}if(!Qo.has(e)){var a=e.rules,c=new CSSStyleSheet,u=Gt();u.modifySheet({prepareSheet:o,sourceCSSRules:a,theme:n,ignoreImageAnalysis:r,force:!1,isAsyncCancelled:function(){return i}})}})}var i=!1;return{render:r,destroy:n}}function fn(e){function t(e,t,n){return s.value.call(this,e,t,n),this.ownerNode&&!this.ownerNode.classList.contains("darkreader")&&this.ownerNode.dispatchEvent(b),-1}function n(e,t){var n=l.value.call(this,e,t);return this.ownerNode&&!this.ownerNode.classList.contains("darkreader")&&this.ownerNode.dispatchEvent(b),n}function r(e){d.value.call(this,e),this.ownerNode&&!this.ownerNode.classList.contains("darkreader")&&this.ownerNode.dispatchEvent(b)}function i(e){f.value.call(this,e),this.ownerNode&&!this.ownerNode.classList.contains("darkreader")&&this.ownerNode.dispatchEvent(b)}function c(){var e=this,t=function(){var t=h.get.call(e),n=a([],o(t),!1).filter(function(e){return!e.ownerNode.classList.contains("darkreader")});return n.item=function(e){return n[e]},Object.setPrototypeOf(n,StyleSheetList.prototype)},n=t(),r={get:function(e,n){return t()[n]}};return n=new Proxy(n,r),n}function u(e){var t=this;if("style"!==e)return m.value.call(this,e);var n=function(){var n=m.value.call(t,e);return Object.setPrototypeOf(a([],o(n),!1).filter(function(e){return!e.classList.contains("darkreader")}),NodeList.prototype)},r=n(),i={get:function(e,t){return n()[Number(t)||t]}};return r=new Proxy(r,i),r}document.dispatchEvent(new CustomEvent("__darkreader__inlineScriptsAllowed"));var s=Object.getOwnPropertyDescriptor(CSSStyleSheet.prototype,"addRule"),l=Object.getOwnPropertyDescriptor(CSSStyleSheet.prototype,"insertRule"),d=Object.getOwnPropertyDescriptor(CSSStyleSheet.prototype,"deleteRule"),f=Object.getOwnPropertyDescriptor(CSSStyleSheet.prototype,"removeRule"),h=e?Object.getOwnPropertyDescriptor(Document.prototype,"styleSheets"):null,p=["baidu.com","baike.baidu.com","ditu.baidu.com","map.baidu.com","maps.baidu.com","haokan.baidu.com","pan.baidu.com","passport.baidu.com","tieba.baidu.com","www.baidu.com"].includes(location.hostname),m=p?Object.getOwnPropertyDescriptor(Element.prototype,"getElementsByTagName"):null,v=function(){Object.defineProperty(CSSStyleSheet.prototype,"addRule",s),Object.defineProperty(CSSStyleSheet.prototype,"insertRule",l),Object.defineProperty(CSSStyleSheet.prototype,"deleteRule",d),Object.defineProperty(CSSStyleSheet.prototype,"removeRule",f),document.removeEventListener("__darkreader__cleanUp",v),document.removeEventListener("__darkreader__addUndefinedResolver",g),e&&Object.defineProperty(Document.prototype,"styleSheets",h),p&&Object.defineProperty(Element.prototype,"getElementsByTagName",m)},g=function(e){customElements.whenDefined(e.detail.tag).then(function(){document.dispatchEvent(new CustomEvent("__darkreader__isDefined",{detail:{tag:e.detail.tag}}))})};document.addEventListener("__darkreader__cleanUp",v),document.addEventListener("__darkreader__addUndefinedResolver",g);var b=new Event("__darkreader__updateSheet");Object.defineProperty(CSSStyleSheet.prototype,"addRule",Object.assign({},s,{value:t})),Object.defineProperty(CSSStyleSheet.prototype,"insertRule",Object.assign({},l,{value:n})),Object.defineProperty(CSSStyleSheet.prototype,"deleteRule",Object.assign({},d,{value:r})),Object.defineProperty(CSSStyleSheet.prototype,"removeRule",Object.assign({},f,{value:i})),e&&Object.defineProperty(Document.prototype,"styleSheets",Object.assign({},h,{get:c})),p&&Object.defineProperty(Element.prototype,"getElementsByTagName",Object.assign({},m,{value:u}))}function hn(e,t){void 0===t&&(t=document.head||document);var n=t.querySelector(".".concat(e));return n||(n=document.createElement("style"),n.classList.add("darkreader"),n.classList.add(e),n.media="screen",n.textContent=""),n}function pn(e,t){void 0===t&&(t=document.head||document);var n=t.querySelector(".".concat(e));return n||(n=document.createElement("script"),n.classList.add("darkreader"),n.classList.add(e)),n}function mn(e,t){ra.has(t)&&ra.get(t).stop(),ra.set(t,w(e,"parent"))}function vn(){p(ra.values(),function(e){return e.stop()}),ra.clear()}function gn(){var e=hn("darkreader--fallback",document);e.textContent=nt(Zo,{strict:!0}),document.head.insertBefore(e,document.head.firstChild),mn(e,"fallback");var t=hn("darkreader--user-agent");t.textContent=Ze(Zo,ea,Zo.styleSystemControls),document.head.insertBefore(t,e.nextSibling),mn(t,"user-agent");var n=hn("darkreader--text");Zo.useFont||Zo.textStroke>0?n.textContent=De(Zo):n.textContent="",document.head.insertBefore(n,e.nextSibling),mn(n,"text");var r=hn("darkreader--invert");Jo&&Array.isArray(Jo.invert)&&Jo.invert.length>0?r.textContent=["".concat(Jo.invert.join(", ")," {"),"    filter: ".concat(Ie(Hn(Hn({},Zo),{contrast:0===Zo.mode?Zo.contrast:fe(Zo.contrast-10,0,100)}))," !important;"),"}"].join("\n"):r.textContent="",document.head.insertBefore(r,n.nextSibling),mn(r,"invert");var o=hn("darkreader--inline");o.textContent=Lt(),document.head.insertBefore(o,r.nextSibling),mn(o,"inline");var a=hn("darkreader--override");a.textContent=Jo&&Jo.css?yn(Jo.css):"",document.head.appendChild(a),mn(a,"override");var i=hn("darkreader--variables"),c=Je(Zo),u=Zo.darkSchemeBackgroundColor,s=Zo.darkSchemeTextColor,l=Zo.lightSchemeBackgroundColor,d=Zo.lightSchemeTextColor,f=Zo.mode,h=0===f?l:u,p=0===f?d:s;h=Te(te(h),Zo),p=Me(te(p),Zo),i.textContent=[":root {","   --darkreader-neutral-background: ".concat(h,";"),"   --darkreader-neutral-text: ".concat(p,";"),"   --darkreader-selection-background: ".concat(c.backgroundColorSelection,";"),"   --darkreader-selection-text: ".concat(c.foregroundColorSelection,";"),"}"].join("\n"),document.head.insertBefore(i,o.nextSibling),mn(i,"variables");var m=hn("darkreader--root-vars");document.head.insertBefore(m,i.nextSibling);var v=pn("darkreader--proxy");v.append("(".concat(fn,")(!").concat(Jo&&Jo.disableStyleSheetsProxy,")")),document.head.insertBefore(v,m.nextSibling),v.remove()}function bn(e){var t=hn("darkreader--inline",e);t.textContent=Lt(),e.insertBefore(t,e.firstChild);var n=hn("darkreader--override",e);n.textContent=Jo&&Jo.css?yn(Jo.css):"",e.insertBefore(n,t.nextSibling);var r=hn("darkreader--invert",e);Jo&&Array.isArray(Jo.invert)&&Jo.invert.length>0?r.textContent=["".concat(Jo.invert.join(", ")," {"),"    filter: ".concat(Ie(Hn(Hn({},Zo),{contrast:0===Zo.mode?Zo.contrast:fe(Zo.contrast-10,0,100)}))," !important;"),"}"].join("\n"):r.textContent="",e.insertBefore(r,n.nextSibling),oa.add(e)}function yn(e){return e.replace(/\${(.+?)}/g,function(e,t){var n=ot(t);return n?we(n,Zo):(b("Couldn't parse CSSTemplate's color."),t)})}function Sn(){var e=document.querySelector(".darkreader--fallback");e&&(e.textContent="")}function _n(){ua();var e=zt(document),t=e.filter(function(e){return!Xo.has(e)}).map(function(e){return kn(e)});t.map(function(e){return e.details({secondRound:!1})}).filter(function(e){return e&&e.rules.length>0}).forEach(function(e){bo.addRulesForMatching(e.rules)}),bo.matchVariablesAndDependants(),bo.setOnRootVariableChange(function(){bo.putRootVars(document.head.querySelector(".darkreader--root-vars"),Zo)}),bo.putRootVars(document.head.querySelector(".darkreader--root-vars"),Zo),Xo.forEach(function(e){return e.render(Zo,ta)}),0===ia.size&&Sn(),t.forEach(function(e){return e.watch()});var n=v(document.querySelectorAll(Eo));E(document.documentElement,function(e){bn(e.shadowRoot);var t=e.shadowRoot.querySelectorAll(Eo);t.length>0&&m(n,t)}),n.forEach(function(e){return jt(e,Zo,na,ta)}),Rn(document)}function kn(e){function t(){if(!pr()||!la){ia.add(o),g("Current amount of styles loading: ".concat(ia.size));var e=document.querySelector(".darkreader--fallback");e.textContent||(e.textContent=nt(Zo,{strict:!1}))}}function n(){ia.delete(o),g("Removed loadingStyle ".concat(o,", now awaiting: ").concat(ia.size)),g("To-do to be loaded",ia),0===ia.size&&pr()&&Sn()}function r(){var e=a.details({secondRound:!0});e&&(bo.addRulesForMatching(e.rules),bo.matchVariablesAndDependants(),a.render(Zo,ta))}var o=++aa;g("New manager for element, with loadingStyleID ".concat(o),e);var a=Qt(e,{update:r,loadingStart:t,loadingEnd:n});return Xo.set(e,a),a}function wn(e){var t=Xo.get(e);t&&(t.destroy(),Xo.delete(e))}function En(){0!==ia.size?b("DOM is ready, but still have styles being loaded.",ia):Sn()}function Cn(e){var t=Boolean(sa);sa=function(){document.hidden||(xn(),e(),la=!0)},t||document.addEventListener("visibilitychange",sa)}function xn(){document.removeEventListener("visibilitychange",sa),sa=null}function Tn(){function e(){_n(),Vn()}gn(),document.hidden&&!Zo.immediateModify?Cn(e):e(),Ut(Zo)}function Rn(e){try{if(Array.isArray(e.adoptedStyleSheets)&&e.adoptedStyleSheets.length>0){var t=dn(e);Yo.push(t),t.render(Zo,ta)}}catch(e){b("Error occured in handleAdoptedStyleSheets: ",e)}}function Vn(){var e=Array.from(Xo.keys());an(e,function(e){var t=e.created,n=e.updated,r=e.removed,o=e.moved,a=r,i=t.concat(n).concat(o).filter(function(e){return!Xo.has(e)}),c=o.filter(function(e){return Xo.has(e)});g("Styles to be removed:",a),a.forEach(function(e){return wn(e)});var u=i.map(function(e){return kn(e)});u.map(function(e){return e.details({secondRound:!1})}).filter(function(e){return e&&e.rules.length>0}).forEach(function(e){bo.addRulesForMatching(e.rules)}),bo.matchVariablesAndDependants(),u.forEach(function(e){return e.render(Zo,ta)}),u.forEach(function(e){return e.watch()}),c.forEach(function(e){return Xo.get(e).restore()})},function(e){bn(e),Rn(e)}),Pt(function(e){if(jt(e,Zo,na,ta),e===document.documentElement){var t=e.getAttribute("style")||"";t.includes("--")&&(bo.matchVariablesAndDependants(),bo.putRootVars(document.head.querySelector(".darkreader--root-vars"),Zo))}},function(e){bn(e);var t=e.querySelectorAll(Eo);t.length>0&&p(t,function(e){return jt(e,Zo,na,ta)})}),x(En)}function Mn(){Xo.forEach(function(e){return e.pause()}),vn(),un(),It(),T(En),M()}function An(){var e=document.createElement("meta");e.name="darkreader",e.content=Ko,document.head.appendChild(e)}function Ln(){var e=document.querySelector('meta[name="darkreader"]');return e?e.content!==Ko:(An(),!1)}function On(e,t,n){if(Zo=e,Jo=t,Jo?(ta=Array.isArray(Jo.ignoreImageAnalysis)?Jo.ignoreImageAnalysis:[],na=Array.isArray(Jo.ignoreInlineStyle)?Jo.ignoreInlineStyle:[]):(ta=[],na=[]),Zo.immediateModify&&C(function(){return!0}),ea=n,document.head){if(Ln())return;document.documentElement.setAttribute("data-darkreader-mode","dynamic"),document.documentElement.setAttribute("data-darkreader-scheme",Zo.mode?"dark":"dimmed"),Tn()}else{if(!Yn){var r=hn("darkreader--fallback");document.documentElement.appendChild(r),r.textContent=nt(Zo,{strict:!0})}var o=new MutationObserver(function(){if(document.head){if(o.disconnect(),Ln())return void Dn();Tn()}});o.observe(document,{childList:!0,
subtree:!0})}}function Pn(){document.dispatchEvent(new CustomEvent("__darkreader__cleanUp")),k(document.head.querySelector(".darkreader--proxy"))}function Dn(){document.documentElement.removeAttribute("data-darkreader-mode"),document.documentElement.removeAttribute("data-darkreader-scheme"),In(),k(document.querySelector(".darkreader--fallback")),document.head&&(qt(),k(document.head.querySelector(".darkreader--user-agent")),k(document.head.querySelector(".darkreader--text")),k(document.head.querySelector(".darkreader--invert")),k(document.head.querySelector(".darkreader--inline")),k(document.head.querySelector(".darkreader--override")),k(document.head.querySelector(".darkreader--variables")),k(document.head.querySelector(".darkreader--root-vars")),k(document.head.querySelector('meta[name="darkreader"]')),Pn()),oa.forEach(function(e){k(e.querySelector(".darkreader--inline")),k(e.querySelector(".darkreader--override"))}),oa.clear(),p(Xo.keys(),function(e){return wn(e)}),ia.clear(),$t(),p(document.querySelectorAll(".darkreader"),k),Yo.forEach(function(e){e.destroy()}),Yo.splice(0)}function In(){bo.clear(),wr.clear(),xn(),ua(),Mn(),ft()}function Fn(e){return t(this,void 0,void 0,function(){var t,r;return n(this,function(n){switch(n.label){case 0:return t=[],z(da,e,1).forEach(function(e){var n=c(e);t.push(n)}),[4,Promise.all(t)];case 1:return r=n.sent(),[2,e.replace(da,function(){return'url("'.concat(r.shift(),'")')})]}})})}function Nn(){return t(this,void 0,void 0,function(){function e(e,n){var r=document.querySelector(e);r&&r.textContent&&(t.push("/* ".concat(n," */")),t.push(r.textContent),t.push(""))}var t,r,o,a,i;return n(this,function(n){switch(n.label){case 0:return t=[fa],e(".darkreader--fallback","Fallback Style"),e(".darkreader--user-agent","User-Agent Style"),e(".darkreader--text","Text Style"),e(".darkreader--invert","Invert Style"),e(".darkreader--variables","Variables Style"),r=[],document.querySelectorAll(".darkreader--sync").forEach(function(e){p(e.sheet.cssRules,function(e){e&&e.cssText&&r.push(e.cssText)})}),r.length?(o=$(r.join("\n")),t.push("/* Modified CSS */"),i=(a=t).push,[4,Fn(o)]):[3,2];case 1:i.apply(a,[n.sent()]),t.push(""),n.label=2;case 2:return e(".darkreader--override","Override Style"),[2,t.join("\n")]}})})}function jn(e,t){void 0===e&&(e={}),void 0===t&&(t=null);var n=Hn(Hn({},hr),e);if(n.engine!==dr.dynamicTheme)throw new Error("Theme engine is not supported.");On(n,t,pa),ha=!0}function Bn(){return ha}function Un(){Dn(),ha=!1}function qn(){ma.matches?jn(va.themeOptions,va.fixes):Un()}function Wn(e,t){void 0===e&&(e={}),void 0===t&&(t=null),e?(va={themeOptions:e,fixes:t},qn(),rr?ma.addEventListener("change",qn):ma.addListener(qn)):(rr?ma.removeEventListener("change",qn):ma.removeListener(qn),Un())}function Gn(){return t(this,void 0,void 0,function(){return n(this,function(e){switch(e.label){case 0:return[4,Nn()];case 1:return[2,e.sent()]}})})}var Hn=function(){return Hn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Hn.apply(this,arguments)},zn={UI_GET_DATA:"ui-get-data",UI_SUBSCRIBE_TO_CHANGES:"ui-subscribe-to-changes",UI_UNSUBSCRIBE_FROM_CHANGES:"ui-unsubscribe-from-changes",UI_CHANGE_SETTINGS:"ui-change-settings",UI_SET_THEME:"ui-set-theme",UI_SET_SHORTCUT:"ui-set-shortcut",UI_TOGGLE_ACTIVE_TAB:"ui-toggle-active-tab",UI_MARK_NEWS_AS_READ:"ui-mark-news-as-read",UI_MARK_NEWS_AS_DISPLAYED:"ui-mark-news-as-displayed",UI_LOAD_CONFIG:"ui-load-config",UI_APPLY_DEV_DYNAMIC_THEME_FIXES:"ui-apply-dev-dynamic-theme-fixes",UI_RESET_DEV_DYNAMIC_THEME_FIXES:"ui-reset-dev-dynamic-theme-fixes",UI_APPLY_DEV_INVERSION_FIXES:"ui-apply-dev-inversion-fixes",UI_RESET_DEV_INVERSION_FIXES:"ui-reset-dev-inversion-fixes",UI_APPLY_DEV_STATIC_THEMES:"ui-apply-dev-static-themes",UI_RESET_DEV_STATIC_THEMES:"ui-reset-dev-static-themes",UI_SAVE_FILE:"ui-save-file",UI_REQUEST_EXPORT_CSS:"ui-request-export-css",BG_CHANGES:"bg-changes",BG_ADD_CSS_FILTER:"bg-add-css-filter",BG_ADD_STATIC_THEME:"bg-add-static-theme",BG_ADD_SVG_FILTER:"bg-add-svg-filter",BG_ADD_DYNAMIC_THEME:"bg-add-dynamic-theme",BG_EXPORT_CSS:"bg-export-css",BG_UNSUPPORTED_SENDER:"bg-unsupported-sender",BG_CLEAN_UP:"bg-clean-up",BG_RELOAD:"bg-reload",BG_FETCH_RESPONSE:"bg-fetch-response",BG_UI_UPDATE:"bg-ui-update",BG_CSS_UPDATE:"bg-css-update",CS_COLOR_SCHEME_CHANGE:"cs-color-scheme-change",CS_FRAME_CONNECT:"cs-frame-connect",CS_FRAME_FORGET:"cs-frame-forget",CS_FRAME_FREEZE:"cs-frame-freeze",CS_FRAME_RESUME:"cs-frame-resume",CS_EXPORT_CSS_RESPONSE:"cs-export-css-response",CS_FETCH:"cs-fetch",CS_DARK_THEME_DETECTED:"cs-dark-theme-detected",CS_DARK_THEME_NOT_DETECTED:"cs-dark-theme-not-detected"},$n="undefined"==typeof navigator?"some useragent":navigator.userAgent.toLowerCase(),Qn="undefined"==typeof navigator?"some platform":navigator.platform.toLowerCase(),Kn=$n.includes("chrome")||$n.includes("chromium"),Xn=$n.includes("thunderbird"),Yn=$n.includes("firefox")||$n.includes("librewolf")||Xn;$n.includes("vivaldi"),$n.includes("yabrowser"),$n.includes("opr")||$n.includes("opera"),$n.includes("edg");var Zn=$n.includes("safari")&&!Kn,Jn=Qn.startsWith("win"),er=Qn.startsWith("mac");$n.includes("mobile");var tr,nr="function"==typeof ShadowRoot,rr="function"==typeof MediaQueryList&&"function"==typeof MediaQueryList.prototype.addEventListener;tr=$n.match(/chrom[e|ium]\/([^ ]+)/),tr&&tr[1]&&tr[1];var or=function(){try{return document.querySelector(":defined"),!0}catch(e){return!1}}();globalThis.chrome&&globalThis.chrome.runtime&&globalThis.chrome.runtime.getManifest&&globalThis.chrome.runtime.getManifest().manifest_version;var ar=function(){if("undefined"==typeof document)return!1;var e=document.createElement("div");return e.setAttribute("style","color-scheme: dark"),e.style&&"dark"===e.style.colorScheme}(),ir=function(e){return t(void 0,void 0,void 0,function(){return n(this,function(t){return[2,Promise.reject(new Error(["Embedded Dark Reader cannot access a cross-origin resource",e,"Overview your URLs and CORS policies or use","`DarkReader.setFetchMethod(fetch: (url) => Promise<Response>))`.","See if using `DarkReader.setFetchMethod(window.fetch)`","before `DarkReader.enable()` works."].join(" ")))]})})},cr=ir;window.chrome||(window.chrome={}),chrome.runtime||(chrome.runtime={});var ur=new Set;if("function"==typeof chrome.runtime.sendMessage){var sr=chrome.runtime.sendMessage;chrome.runtime.sendMessage=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];d.apply(void 0,a([],o(e),!1)),sr.apply(chrome.runtime,e)}}else chrome.runtime.sendMessage=d;if(chrome.runtime.onMessage||(chrome.runtime.onMessage={}),"function"==typeof chrome.runtime.onMessage.addListener){var lr=chrome.runtime.onMessage.addListener;chrome.runtime.onMessage.addListener=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];f(e[0]),lr.apply(chrome.runtime.onMessage,e)}}else chrome.runtime.onMessage.addListener=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return f(e[0])};var dr={cssFilter:"cssFilter",svgFilter:"svgFilter",staticTheme:"staticTheme",dynamicTheme:"dynamicTheme"},fr={darkScheme:{background:"#181a1b",text:"#e8e6e3"},lightScheme:{background:"#dcdad7",text:"#181a1b"}},hr={mode:1,brightness:100,contrast:100,grayscale:0,sepia:0,useFont:!1,fontFamily:er?"Helvetica Neue":Jn?"Segoe UI":"Open Sans",textStroke:0,engine:dr.dynamicTheme,stylesheet:"",darkSchemeBackgroundColor:fr.darkScheme.background,darkSchemeTextColor:fr.darkScheme.text,lightSchemeBackgroundColor:fr.lightScheme.background,lightSchemeTextColor:fr.lightScheme.text,scrollbarColor:er?"":"auto",selectionColor:"auto",styleSystemControls:!ar,lightColorScheme:"Default",darkColorScheme:"Default",immediateModify:!1},pr=function(){return"complete"===document.readyState||"interactive"===document.readyState},mr=new Set,vr=new Set;if(!pr()){var gr=function(){pr()&&(mr.forEach(function(e){return e()}),mr.clear(),R()&&(document.removeEventListener("readystatechange",gr),vr.forEach(function(e){return e()}),vr.clear()))};document.addEventListener("readystatechange",gr)}var br,yr,Sr=1e3,_r=new Map,kr=new WeakMap,wr=new Map,Er=["background","border","border-color","border-bottom","border-left","border-right","border-top","outline","outline-color"],Cr=Zn?Er.map(function(e){var t=new RegExp("".concat(e,":\\s*(.*?)\\s*;"));return[e,t]}):null,xr=/url\((('.+?')|(".+?")|([^\)]*?))\)/g,Tr=/@import\s*(url\()?(('.+?')|(".+?")|([^\)]*?))\)? ?(screen)?;?/gi,Rr=/\/\*[\s\S]*?\*\//g,Vr=/@font-face\s*{[^}]*}/g,Mr=function(){function e(e,t){this.precendce=e,this.execMethod=t}return e.prototype.exec=function(e,t){return this.execMethod(e,t)},e.prototype.lessOrEqualThan=function(e){return this.precendce<=e.precendce},e}(),Ar=new Map([["+",new Mr(1,function(e,t){return e+t})],["-",new Mr(1,function(e,t){return e-t})],["*",new Mr(2,function(e,t){return e*t})],["/",new Mr(2,function(e,t){return e/t})]]),Lr=/^rgba?\([^\(\)]+\)$/,Or=/^hsla?\([^\(\)]+\)$/,Pr=/^#[0-9a-f]+$/i,Dr=[255,255,255,1],Ir={"%":100},Fr=[360,1,1,1],Nr={"%":100,deg:360,rad:2*Math.PI,turn:1},jr=new Map(Object.entries({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgrey:11119017,darkgreen:25600,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,grey:8421504,green:32768,greenyellow:11403055,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgrey:13882323,lightgreen:9498256,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074})),Br=new Map(Object.entries({ActiveBorder:3906044,ActiveCaption:0,AppWorkspace:11184810,Background:6513614,ButtonFace:16777215,ButtonHighlight:15329769,ButtonShadow:10461343,ButtonText:0,CaptionText:0,GrayText:8355711,Highlight:11720703,HighlightText:0,InactiveBorder:16777215,InactiveCaption:16777215,InactiveCaptionText:0,InfoBackground:16514245,InfoText:0,Menu:16185078,MenuText:16777215,Scrollbar:11184810,ThreeDDarkShadow:0,ThreeDFace:12632256,ThreeDHighlight:16777215,ThreeDLightShadow:16777215,ThreeDShadow:0,Window:15527148,WindowFrame:11184810,WindowText:0,"-webkit-focus-ring-color":15046400}).map(function(e){var t=o(e,2),n=t[0],r=t[1];return[n.toLowerCase(),r]})),Ur={identity:function(){return[[1,0,0,0,0],[0,1,0,0,0],[0,0,1,0,0],[0,0,0,1,0],[0,0,0,0,1]]},invertNHue:function(){return[[.333,-.667,-.667,0,1],[-.667,.333,-.667,0,1],[-.667,-.667,.333,0,1],[0,0,0,1,0],[0,0,0,0,1]]},brightness:function(e){return[[e,0,0,0,0],[0,e,0,0,0],[0,0,e,0,0],[0,0,0,1,0],[0,0,0,0,1]]},contrast:function(e){var t=(1-e)/2;return[[e,0,0,0,t],[0,e,0,0,t],[0,0,e,0,t],[0,0,0,1,0],[0,0,0,0,1]]},sepia:function(e){return[[.393+.607*(1-e),.769-.769*(1-e),.189-.189*(1-e),0,0],[.349-.349*(1-e),.686+.314*(1-e),.168-.168*(1-e),0,0],[.272-.272*(1-e),.534-.534*(1-e),.131+.869*(1-e),0,0],[0,0,0,1,0],[0,0,0,0,1]]},grayscale:function(e){return[[.2126+.7874*(1-e),.7152-.7152*(1-e),.0722-.0722*(1-e),0,0],[.2126-.2126*(1-e),.7152+.2848*(1-e),.0722-.0722*(1-e),0,0],[.2126-.2126*(1-e),.7152-.7152*(1-e),.0722+.9278*(1-e),0,0],[0,0,0,1,0],[0,0,0,0,1]]}},qr=new Map,Wr=new Map,Gr=["r","g","b","a"],Hr=["mode","brightness","contrast","grayscale","sepia","darkSchemeBackgroundColor","darkSchemeTextColor","lightSchemeBackgroundColor","lightSchemeTextColor"],zr=.4,$r=.55;(function(e){e[e.light=0]="light",e[e.dark=1]="dark"})(yr||(yr={}));var Qr=0,Kr=new Map,Xr=new Map;chrome.runtime.onMessage.addListener(function(e){var t=e.type,n=e.data,r=e.error,o=e.id;if(t===zn.BG_FETCH_RESPONSE){var a=Kr.get(o),i=Xr.get(o);Kr.delete(o),Xr.delete(o),r?i&&i(r):a&&a(n)}});var Yr,Zr,Jr=function(){function e(){this.queue=[],this.timerId=null,this.frameDuration=1e3/60}return e.prototype.addToQueue=function(e){this.queue.push(e),this.startQueue()},e.prototype.stopQueue=function(){null!==this.timerId&&(cancelAnimationFrame(this.timerId),this.timerId=null),this.queue=[]},e.prototype.startQueue=function(){var e=this;this.timerId||(this.timerId=requestAnimationFrame(function(){e.timerId=null;for(var t,n=Date.now();t=e.queue.shift();)if(t(),Date.now()-n>=e.frameDuration){e.startQueue();break}}))},e}(),eo=new Jr,to=1024,no=5242880,ro="gradient".length,oo="conic-",ao=oo.length,io="radial-",co="linear-",uo=new Set(["inherit","transparent","initial","currentcolor","none","unset"]),so=new Map,lo=new Map,fo=new Map,ho=1,po=2,mo=4,vo=8,go=function(){function e(){this.varTypes=new Map,this.rulesQueue=[],this.definedVars=new Set,this.varRefs=new Map,this.unknownColorVars=new Set,this.unknownBgVars=new Set,this.undefinedVars=new Set,this.initialVarTypes=new Map,this.changedTypeVars=new Set,this.typeChangeSubscriptions=new Map,this.unstableVarValues=new Map}return e.prototype.clear=function(){this.varTypes.clear(),this.rulesQueue.splice(0),this.definedVars.clear(),this.varRefs.clear(),this.unknownColorVars.clear(),this.unknownBgVars.clear(),this.undefinedVars.clear(),this.initialVarTypes.clear(),this.changedTypeVars.clear(),this.typeChangeSubscriptions.clear(),this.unstableVarValues.clear()},e.prototype.isVarType=function(e,t){return this.varTypes.has(e)&&(this.varTypes.get(e)&t)>0},e.prototype.addRulesForMatching=function(e){this.rulesQueue.push(e)},e.prototype.matchVariablesAndDependants=function(){var e=this;this.changedTypeVars.clear(),this.initialVarTypes=new Map(this.varTypes),this.collectRootVariables(),this.collectVariablesAndVarDep(this.rulesQueue),this.rulesQueue.splice(0),this.collectRootVarDependants(),this.varRefs.forEach(function(t,n){t.forEach(function(t){e.varTypes.has(n)&&e.resolveVariableType(t,e.varTypes.get(n))})}),this.unknownColorVars.forEach(function(t){e.unknownBgVars.has(t)?(e.unknownColorVars.delete(t),e.unknownBgVars.delete(t),e.resolveVariableType(t,ho)):e.isVarType(t,ho|po|mo)?e.unknownColorVars.delete(t):e.undefinedVars.add(t)}),this.unknownBgVars.forEach(function(t){var n=null!=e.findVarRef(t,function(t){return e.unknownColorVars.has(t)||e.isVarType(t,po|mo)});n?e.itarateVarRefs(t,function(t){e.resolveVariableType(t,ho)}):e.isVarType(t,ho|vo)?e.unknownBgVars.delete(t):e.undefinedVars.add(t)}),this.changedTypeVars.forEach(function(t){e.typeChangeSubscriptions.has(t)&&e.typeChangeSubscriptions.get(t).forEach(function(e){e()})}),this.changedTypeVars.clear()},e.prototype.getModifierForVariable=function(e){var t=this;return function(n){var r=e.varName,o=e.sourceValue,a=e.rule,i=e.ignoredImgSelectors,c=e.isCancelled,u=function(){var e=[],u=function(a,i,c){if(t.isVarType(r,a)){var u,s=i(r);if(Et(o))if(Ct(o)){var l=At(o,t.unstableVarValues);l||(l=a===ho?"#ffffff":"#000000"),u=c(l,n)}else u=gt(o,function(e){return i(e)},function(e){return c(e,n)});else u=c(o,n);e.push({property:s,value:u})}};if(u(ho,yt,Rt),u(po,St,Vt),u(mo,_t,Mt),t.isVarType(r,vo)){var s=kt(r),l=o;Et(o)&&(l=gt(o,function(e){return yt(e)},function(e){return Rt(e,n)}));var d=ct(l,a,i,c);l="function"==typeof d?d(n):d,e.push({property:s,value:l})}return e},s=new Set,l=function(e){var n=function(){var t=u();e(t)};s.add(n),t.subscribeForVarTypeChange(r,n)},d=function(){s.forEach(function(e){t.unsubscribeFromVariableTypeChanges(r,e)})};return{declarations:u(),onTypeChange:{addListener:l,removeListeners:d}}}},e.prototype.getModifierForVarDependant=function(e,t){var n=this;if(t.match(/^\s*(rgb|hsl)a?\(/)){var r=e.startsWith("background"),o="color"===e||"caret-color"===e;return function(e){var a=At(t,n.unstableVarValues);a||(a=r?"#ffffff":"#000000");var i=r?Rt:o?Vt:Mt;return i(a,e)}}return"background-color"===e?function(e){return gt(t,function(e){return yt(e)},function(t){return Rt(t,e)})}:"color"===e||"caret-color"===e?function(e){return gt(t,function(e){return St(e)},function(t){return Vt(t,e)})}:"background"===e||"background-image"===e||"box-shadow"===e?function(r){var o=new Set,a=function(){var a=gt(t,function(e){return n.isVarType(e,ho)?yt(e):n.isVarType(e,vo)?kt(e):(o.add(e),e)},function(e){return Rt(e,r)});if("box-shadow"===e){var i=ut(a),c=i(r);if(c.unparseableMatchesLength!==c.matchesLength)return c.result}return a},i=a();return o.size>0?new Promise(function(e){var t=o.values().next().value,r=function(){n.unsubscribeFromVariableTypeChanges(t,r);var o=a();e(o)};n.subscribeForVarTypeChange(t,r)}):i}:e.startsWith("border")||e.startsWith("outline")?function(e){return gt(t,function(e){return _t(e)},function(t){return Mt(t,e)})}:null},e.prototype.subscribeForVarTypeChange=function(e,t){this.typeChangeSubscriptions.has(e)||this.typeChangeSubscriptions.set(e,new Set);var n=this.typeChangeSubscriptions.get(e);n.has(t)||n.add(t)},e.prototype.unsubscribeFromVariableTypeChanges=function(e,t){this.typeChangeSubscriptions.has(e)&&this.typeChangeSubscriptions.get(e).delete(t)},e.prototype.collectVariablesAndVarDep=function(e){var t=this;e.forEach(function(e){N(e,function(e){e.style&&j(e.style,function(e,n){wt(e)&&t.inspectVariable(e,n),Et(n)&&t.inspectVarDependant(e,n)})})})},e.prototype.collectRootVariables=function(){var e=this;j(document.documentElement.style,function(t,n){wt(t)&&e.inspectVariable(t,n)})},e.prototype.inspectVariable=function(e,t){if(this.unstableVarValues.set(e,t),Et(t)&&Ct(t)&&(this.unknownColorVars.add(e),this.definedVars.add(e)),!this.definedVars.has(e)){this.definedVars.add(e);var n=ot(t);n?this.unknownColorVars.add(e):(t.includes("url(")||t.includes("linear-gradient(")||t.includes("radial-gradient("))&&this.resolveVariableType(e,vo)}},e.prototype.resolveVariableType=function(e,t){var n=this.initialVarTypes.get(e)||0,r=this.varTypes.get(e)||0,o=r|t;this.varTypes.set(e,o),(o!==n||this.undefinedVars.has(e))&&(this.changedTypeVars.add(e),this.undefinedVars.delete(e)),this.unknownColorVars.delete(e),this.unknownBgVars.delete(e)},e.prototype.collectRootVarDependants=function(){var e=this;j(document.documentElement.style,function(t,n){Et(n)&&e.inspectVarDependant(t,n)})},e.prototype.inspectVarDependant=function(e,t){var n=this;wt(e)?this.iterateVarDeps(t,function(t){n.varRefs.has(e)||n.varRefs.set(e,new Set),n.varRefs.get(e).add(t)}):"background-color"===e||"box-shadow"===e?this.iterateVarDeps(t,function(e){return n.resolveVariableType(e,ho)}):"color"===e||"caret-color"===e?this.iterateVarDeps(t,function(e){return n.resolveVariableType(e,po)}):e.startsWith("border")||e.startsWith("outline")?this.iterateVarDeps(t,function(e){return n.resolveVariableType(e,mo)}):"background"!==e&&"background-image"!==e||this.iterateVarDeps(t,function(e){if(!n.isVarType(e,ho|vo)){var t=null!=n.findVarRef(e,function(e){return n.unknownColorVars.has(e)||n.isVarType(e,po|mo)});n.itarateVarRefs(e,function(e){t?n.resolveVariableType(e,ho):n.unknownBgVars.add(e)})}})},e.prototype.iterateVarDeps=function(e,t){var n=new Set;bt(e,function(e){return n.add(e)}),n.forEach(function(e){return t(e)})},e.prototype.findVarRef=function(e,t,n){var o,a;if(void 0===n&&(n=new Set),n.has(e))return null;n.add(e);var i=t(e);if(i)return e;var c=this.varRefs.get(e);if(!c||0===c.size)return null;try{for(var u=r(c),s=u.next();!s.done;s=u.next()){var l=s.value,d=this.findVarRef(l,t,n);if(d)return d}}catch(e){o={error:e}}finally{try{s&&!s.done&&(a=u.return)&&a.call(u)}finally{if(o)throw o.error}}return null},e.prototype.itarateVarRefs=function(e,t){this.findVarRef(e,function(e){return t(e),!1})},e.prototype.setOnRootVariableChange=function(e){this.onRootVariableDefined=e},e.prototype.putRootVars=function(e,t){var n,a,i=this,c=e.sheet;c.cssRules.length>0&&c.deleteRule(0);var u=new Map;j(document.documentElement.style,function(e,n){wt(e)&&(i.isVarType(e,ho)&&u.set(yt(e),Rt(n,t)),i.isVarType(e,po)&&u.set(St(e),Vt(n,t)),i.isVarType(e,mo)&&u.set(_t(e),Mt(n,t)),i.subscribeForVarTypeChange(e,i.onRootVariableDefined))});var s=[];s.push(":root {");try{for(var l=r(u),d=l.next();!d.done;d=l.next()){var f=o(d.value,2),h=f[0],p=f[1];s.push("    ".concat(h,": ").concat(p,";"))}}catch(e){n={error:e}}finally{try{d&&!d.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}s.push("}");var m=s.join("\n");c.insertRule(m)},e}(),bo=new go,yo=/^\d{1,3}, ?\d{1,3}, ?\d{1,3}$/,So={"background-color":{customProp:"--darkreader-inline-bgcolor",cssProp:"background-color",dataAttr:"data-darkreader-inline-bgcolor"},"background-image":{customProp:"--darkreader-inline-bgimage",cssProp:"background-image",dataAttr:"data-darkreader-inline-bgimage"},"border-color":{customProp:"--darkreader-inline-border",cssProp:"border-color",dataAttr:"data-darkreader-inline-border"},"border-bottom-color":{customProp:"--darkreader-inline-border-bottom",cssProp:"border-bottom-color",dataAttr:"data-darkreader-inline-border-bottom"},"border-left-color":{customProp:"--darkreader-inline-border-left",cssProp:"border-left-color",dataAttr:"data-darkreader-inline-border-left"},"border-right-color":{customProp:"--darkreader-inline-border-right",cssProp:"border-right-color",dataAttr:"data-darkreader-inline-border-right"},"border-top-color":{customProp:"--darkreader-inline-border-top",cssProp:"border-top-color",dataAttr:"data-darkreader-inline-border-top"},"box-shadow":{customProp:"--darkreader-inline-boxshadow",cssProp:"box-shadow",dataAttr:"data-darkreader-inline-boxshadow"},color:{customProp:"--darkreader-inline-color",cssProp:"color",dataAttr:"data-darkreader-inline-color"},fill:{customProp:"--darkreader-inline-fill",cssProp:"fill",dataAttr:"data-darkreader-inline-fill"},stroke:{customProp:"--darkreader-inline-stroke",cssProp:"stroke",dataAttr:"data-darkreader-inline-stroke"},"outline-color":{customProp:"--darkreader-inline-outline",cssProp:"outline-color",dataAttr:"data-darkreader-inline-outline"},"stop-color":{customProp:"--darkreader-inline-stopcolor",cssProp:"stop-color",dataAttr:"data-darkreader-inline-stopcolor"}},_o=Object.values(So),ko={};_o.forEach(function(e){var t=e.cssProp,n=e.customProp;return ko[n]=t});var wo=["style","fill","stop-color","stroke","bgcolor","color"],Eo=wo.map(function(e){return"[".concat(e,"]")}).join(", "),Co=new Map,xo=new Map,To=new WeakMap,Ro=["brightness","contrast","grayscale","sepia","mode"],Vo="theme-color",Mo='meta[name="'.concat(Vo,'"]'),Ao=null,Lo=null,Oo=["mode","brightness","contrast","grayscale","sepia","darkSchemeBackgroundColor","darkSchemeTextColor","lightSchemeBackgroundColor","lightSchemeTextColor"],Po=S(),Do='style, link[rel*="stylesheet" i]:not([disabled])',Io=new WeakSet,Fo=new WeakSet,No=!1;document.addEventListener("__darkreader__inlineScriptsAllowed",function(){No=!0});var jo,Bo,Uo=0,qo=new Map,Wo=[],Go=new Map,Ho=!1;document.addEventListener("__darkreader__inlineScriptsAllowed",function(){Ho=!0});var zo=new Map,$o=new WeakMap,Qo=new WeakSet,Ko=ln(),Xo=new Map,Yo=[],Zo=null,Jo=null,ea=null,ta=null,na=null,ra=new Map,oa=new Set,aa=0,ia=new Set,ca=y(function(e){Xo.forEach(function(e){return e.render(Zo,ta)}),Yo.forEach(function(e){return e.render(Zo,ta)}),e&&e()}),ua=function(){ca.cancel()},sa=null,la=!document.hidden,da=/url\(\"(blob\:.*?)\"\)/g,fa='/*\n                        _______\n                       /       \\\n                      .==.    .==.\n                     ((  ))==((  ))\n                    / "=="    "=="\\\n                   /____|| || ||___\\\n       ________     ____    ________  ___    ___\n       |  ___  \\   /    \\   |  ___  \\ |  |  /  /\n       |  |  \\  \\ /  /\\  \\  |  |  \\  \\|  |_/  /\n       |  |   )  /  /__\\  \\ |  |__/  /|  ___  \\\n       |  |__/  /  ______  \\|  ____  \\|  |  \\  \\\n_______|_______/__/ ____ \\__\\__|___\\__\\__|___\\__\\____\n|  ___  \\ |  ____/ /    \\   |  ___  \\ |  ____|  ___  \\\n|  |  \\  \\|  |___ /  /\\  \\  |  |  \\  \\|  |___|  |  \\  \\\n|  |__/  /|  ____/  /__\\  \\ |  |   )  |  ____|  |__/  /\n|  ____  \\|  |__/  ______  \\|  |__/  /|  |___|  ____  \\\n|__|   \\__\\____/__/      \\__\\_______/ |______|__|   \\__\\\n                https://darkreader.org\n*/\n\n/*! Dark reader generated CSS | Licensed under MIT https://github.com/darkreader/darkreader/blob/master/LICENSE */\n',ha=!1,pa=function(){try{return window.self!==window.top}catch(e){return console.warn(e),!0}}(),ma=matchMedia("(prefers-color-scheme: dark)"),va={themeOptions:null,fixes:null},ga=s;e.auto=Wn,e.disable=Un,e.enable=jn,e.exportGeneratedCSS=Gn,e.isEnabled=Bn,e.setFetchMethod=ga,Object.defineProperty(e,"__esModule",{value:!0})});